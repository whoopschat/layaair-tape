{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./src/utils/env.ts","webpack:///./src/services/manager/screen.ts","webpack:///./src/services/navigator/init.ts","webpack:///./src/services/manager/uimgr.ts","webpack:///./src/services/navigator/stack.ts","webpack:///./src/utils/bind.ts","webpack:///./src/services/display/ui.ts","webpack:///./src/services/display/toastview.ts","webpack:///./src/services/manager/bg.ts","webpack:///./src/services/navigator/loader.ts","webpack:///./src/services/platform/wx/_size.ts","webpack:///./src/services/display/popupmanager.ts","webpack:///./src/services/display/toastmanager.ts","webpack:///./src/services/display/popupview.ts","webpack:///./src/services/views/tips.ts","webpack:///./src/services/views/bg.ts","webpack:///./src/index.ts","webpack:///./src/services/audio.ts","webpack:///./src/services/loop.ts","webpack:///./src/services/ad.ts","webpack:///./src/services/platform/fb/ad.ts","webpack:///./src/services/platform/qq/ad.ts","webpack:///./src/services/platform/wx/ad.ts","webpack:///./src/services/platform/bd/ad.ts","webpack:///./src/services/platform/bd/_size.ts","webpack:///./src/services/platform/br/ad.ts","webpack:///./src/services/app.ts","webpack:///./src/services/platform/fb/app.ts","webpack:///./src/services/platform/qq/app.ts","webpack:///./src/services/platform/qq/_data.ts","webpack:///./src/services/platform/wx/app.ts","webpack:///./src/services/platform/bd/app.ts","webpack:///./src/services/platform/br/app.ts","webpack:///./src/services/platform/br/_data.ts","webpack:///./src/services/rank.ts","webpack:///./src/services/platform/fb/rank.ts","webpack:///./src/services/platform/fb/_rank.ts","webpack:///./src/services/platform/qq/rank.ts","webpack:///./src/services/platform/qq/_rank.ts","webpack:///./src/services/platform/wx/rank.ts","webpack:///./src/services/platform/br/rank.ts","webpack:///./src/services/platform/br/_rank.ts","webpack:///./src/services/platform/bd/rank.ts","webpack:///./src/services/other.ts","webpack:///./src/services/utils.ts","webpack:///./src/services/display/activity.ts","webpack:///./src/services/init.ts","webpack:///./src/services/platform/fb/init.ts","webpack:///./src/services/platform/qq/init.ts","webpack:///./src/services/platform/wx/init.ts","webpack:///./src/services/platform/bd/init.ts","webpack:///./src/services/platform/br/init.ts","webpack:///./src/services/comp.ts","webpack:///./src/services/comps/comp_toast.ts","webpack:///./src/services/views/icon.ts","webpack:///./src/services/comps/comp_modal.ts","webpack:///./src/services/views/modal.ts","webpack:///./src/services/comps/comp_loading.ts","webpack:///./src/services/comps/comp_vibrate.ts","webpack:///./src/runtime/index.ts"],"names":["root","factory","exports","module","define","amd","a","i","this","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","isFacebookApp","window","isMock","isQQApp","isWechatApp","execWX","func","options","_i","arguments","length","funcs","split","instant","shift","apply","isBaiduApp","execBD","_tape_version","_app_version","_debugOn","_env","getEnv","indexOf","FACEBOOK","QQ","WECHAT","BAIDU","BROWSER","default","getAppVersion","getVersion","isLayaApp","isConchApp","isBrowserApp","sendMessageToPlatform","params","callback","Laya","conchMarket","JSON","stringify","json","parse","execQQ","execFB","postMessageToWXOpenDataContext","data","openDataContext","postMessage","postMessageToBDOpenDataContext","setDebug","on","printError","message","console","error","concat","printDebug","log","setEnv","env","isDev","isProd","getPlatform","bg_1","uimgr_1","_offset_x","_offset_y","_design_width","_design_height","initScreen","is3D","width","height","screenRatio","Browser","clientHeight","laya","utils","clientWidth","initRatio","initWidth","initHeight","Math","abs","Laya3D","init","stage","scaleMode","Stage","SCALE_EXACTFIT","alignH","ALIGN_CENTER","alignV","ALIGN_MIDDLE","initBg","initUI","getWidth","getHeight","getOffestX","getOffestY","getDesignWidth","getDesignHeight","stack_1","_options","_inited","_isReady","_readyResolve","_readyPromise","Promise","resolve","_beginLoadStaticRes","res","commonRes","loader","load","Handler","_onStaticResLoaded","onLoaded","progress","onLoadProgress","mainPage","navigate","initNavigator","fileVersion","ResourceVersion","type","FILENAME_VERSION","enable","onNavigatorReady","setNavigatorReady","_mainUILayer","_topUILayer","loader_1","_offsetX","_offsetY","_checkInit","uiManager","Sprite","x","y","addChild","checkFocus","numChildren","getChildAt","setFocus","offsetX","offsetY","moveTopToMainLayer","view","parent","removeChild","addViewToMainLayer","addViewTopLayer","uimgr_2","_loaders","_loading","_all","_length","_getStack","index","len","_showStack","anim","stack","show","_refreshStack","hide","_popStack","count","splice","forEach","element","exit","focus","page","action","single","open","onShow","push","nextProgress","stacks","filter","pop","number","popToTop","finish","instance","_finishStack","tryParseJson","e","bindView","targetView","targetData","elementView","where","whereSplit","findValue","undefined","whereArgv","target","defaultValue","_a","toString","Number","substr","findDataByWhere","visible","List","listView_1","array","repeatY","repeatX","vScrollBarSkin","hScrollBarSkin","renderHandler","this_1","itemView","elementItemData","assign","FontClip","Label","text","Text","Image","skin","Box","screen_1","ui","_super","handleOnTouchOutside","_this","_bgSprite","_bgAlpha","_bgColor","_isTranslucent","_isShow","_handleOnTouchOutside","_canceledOnTouchOutside","_mask","_onEvent","isShow","canceledOnTouchOutside","stopPropagation","setTimeout","__extends","getChildByName","removeChildByName","bgAlpha","refreshBg","bgColor","isTranslucent","refreshCanceledOnTouchOutside","nonPenetrating","alpha","graphics","clear","drawRect","offAll","mouseThrough","Event","CLICK","addChildAt","Component","toastmanager_1","ui_1","ToastView","duration","displayDuration","easeIn","easeOut","fromProps","toProps","onHide","showToast","hideToast","toast","_bgLabel","_bgImage","_bgSkin","_bgSizeGrid","_drawSkin","sizeGrid","_drawColor","setBgColor","color","getBgColor","setBgSkin","getBgSkin","setBgSizeGrid","getBgSizeGrid","init_1","default_1","_activity","_isFocus","_newActivity","_onLoaded","_onLoadProgress","num","then","onCreate","onNextProgress","activity","Ease","linearIn","onResume","Tween","to","onPause","onDestroy","destroy","onFocus","env_1","fixWidth","systemInfo","windowWidth","fixHeight","windowHeight","_popups","_fromProps","_toProps","_hidePopup","result","popupView","cb","from","linearOut","_hidePopupAnim","_onHide","popup","removeSelf","_showPopup","_showPopupAnim","setDefaultAnim","showPopup","views","hidePopup","v","_toasts","_popToast","_on_hide","_pushToast","popupmanager_1","PopupView","icon_1","TipsView","_maxWidth","_minWidth","_padding","_fontSize","_radius","_bgView","_iconView","_iconSize","_titleView","size","min","_initBg","_initIcon","_initTitle","BgView","radius","IconView","setSize","align","valign","wordWrap","fontSize","setContent","title","icon","titleY","bgH","setIcon","max","callDraw","realRadius","drawPath","fillStyle","audio_1","ad_1","app_1","rank_1","other_1","utils_1","activity_1","popupview_1","toastview_1","comp_1","runtime_1","Tape","init3D","start","showLoading","hideLoading","showModal","vibrateShort","vibrateLong","bg","screen","audio","ad","app","rank","other","runtime","navigator","Activity","loop_1","AudioController","_auidoUrl","_chancel","_playing","_onPlay","_onPause","_onStop","_onError","_onProgress","_onComplete","_position","_duration","_paused","_type","_playTime","_update","position","Date","now","stop","onPlay","onStop","onProgress","onComplete","onError","url","isPaused","isPlaying","play","loops","invoke","fixWechatAudioPlay","ext","Utils","getFileExtension","SoundManager","playSound","loop","pause","resume","removeChannel","destroySound","_musicAudio","playMusic","stopAll","stopMusic","stopAllSound","Looper","_tasks","_hasLoop","_checkLoop","timer","frameLoop","task","caller","clearAll","removeIndexArray_1","reverse","removeItem","ad_2","ad_3","ad_4","ad_5","fbAd","qqAd","wxAd","brAd","FBAd","_rewardedAdId","_rewardedVideoAd","_preloadRewardedVideo","isSupportedRewardedVideoAd","isPreloadRewardedVideoAd","configRewardedVideoAd","platform","adId","watchRewardedVideoAd","onWatch","_onCancal","loadAsync","catch","err","showAsync","isSupportedBannerAd","configBannerAd","showBannerAd","hideBannerAd","QQAd","onCancal","w","h","_size_1","WXAd","_bannerAdId","_bannerAd","_rewardedVideoOnClose","_rewardedVideoOnError","_emptyOnError","adUnitId","offError","offClose","isEnded","errMsg","onClose","realLeft_1","realTop_1","realWidth_1","realHeight_1","style","left","top","onResize","newL","configZ","newZ","newT","newW","newH","Ad","BrAd","app_2","app_3","app_4","app_5","fbApp","qqApp","wxApp","brApp","FBApp","_launchCallback","_pauseCallback","_init","can_subscribe","_checkOnLaunch","scene","query","onLaunch","getUserInfo","nickname","avatarUrl","city","country","province","gender","language","raw","_data_1","QQApp","getEnterSceneForQQ","getEnterDataForQQ","WXApp","_userinfoButton","entry","imageUrl","onHandler","userInfo","nickName","withCredentials","success","fail","image","onTap","App","BrApp","onblur","getEnterSceneForBR","getEnterDataForBR","rank_2","rank_3","rank_4","rank_5","fbRank","qqRank","wxRank","brRank","bind_1","_rank_1","FBRank","_rankKey","_rankUi","_rankViews","_rankData","_canDraw","_count","_offset","_delayObj","_drawRankView","isDestroyeds","rankView","_destroyed","unshift","destroyChildren","Array","View","createComp","_bindRankView","fetchRankDataForFB","_delayBindRankView","isSupportedRank","createRankView","scrollRect","Rectangle","setRankKey","offset","setRankScore","score","extraData","setRankScoreForFB","showRank","hideRank","getLeaderboardAsync","leaderboard","getConnectedPlayerEntriesAsync","entries","selfInfo_1","playerId","selfIndex_1","selfData_1","rankSelf_1","rankThree","rankList","map","item","getRank","getScore","timestamp","getTimestamp","getExtraData","getPlayer","getID","getName","getPhoto","self","slice","selfInfo","selfData","rankSelf","setScoreAsync","QQRank","fetchRankDataForQQ","setRankScoreForQQ","WXRank","sharedCanvasView","sharedCanvas","rankTexture","Texture","bitmap","alwaysChange","rankSprite","drawTexture","BRRank","fetchRankDataForBR","setRankScoreForBR","Rank","_clubButton","hideClubButton","isSupportKefuConversation","openKefuConversation","isSupportClubButton","showClubButton","top_1","icons","randomArrayItem","source","floor","random","tryToObject","randomUUID","_s4","substring","randomInteger","minNum","maxNum","randomNumber","randomArray","randomLength","copy","randomObj","anyToArray","back","redirectTo","init_2","init_3","init_4","init_5","init_6","_get","fbInit","qqInit","wxInit","brInit","MiniAdpter","BMiniAdapter","newOptions","_isLoaded","_percentage","runMockLoading","FBInit","QQInit","WXInit","designWidth","designHeight","Init","BrInit","comp_toast_1","comp_modal_1","comp_loading_1","comp_vibrate_1","tips_1","Toast","mask","complete","_angle","_image","pivot","_getIconUrl","_stop","_play","rotation","modal_1","Modal","ModalContentView","content","showCancel","cancelText","cancelColor","confirmText","confirmColor","_btnEffect","MOUSE_DOWN","MOUSE_UP","MOUSE_OUT","_maxW","_btnHeight","_contentView","_btnsView","_cancelBtn","_confirmBtn","_lineView","_line2View","_lineHeight","_callback","_initContent","_initButton","confirm","cancel","Loading","vibrateForH5","pattern","vs","viewScale","scale","pivotX","pivotY","pivotCenter","scaleX","scaleY","scaleTime","bindClick","scaleSmalValue","scaleBigValue","sound","clickSound","btn","Button","btn_img","btn_label","btn_sprite","btn_box"],"mappings":"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","file":"tape.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 16);\n","//////////////////////////\r\n/////  Laya\r\n//////////////////////////\r\n\r\nconst isLayaApp = () => {\r\n    return window.hasOwnProperty(\"Laya\") && !window['Laya'].isMock;\r\n}\r\n\r\nconst isConchApp = () => {\r\n    return window.hasOwnProperty(\"conch\") && !window['conch'].isMock;\r\n}\r\n\r\n//////////////////////////\r\n/////  Browser\r\n//////////////////////////\r\n\r\nconst isBrowserApp = () => {\r\n    return !isFacebookApp() && !isWechatApp() && !isQQApp();\r\n}\r\n\r\nconst sendMessageToPlatform = (params, callback) => {\r\n    if (!Laya || !Laya.conchMarket) {\r\n        callback && callback({})\r\n        return;\r\n    }\r\n    Laya.conchMarket.sendMessageToPlatform(JSON.stringify(params || {}), function (json): void {\r\n        callback && callback(JSON.parse(json || '{}'))\r\n    });\r\n}\r\n\r\n//////////////////////////\r\n/////  Facebook\r\n//////////////////////////\r\n\r\nconst isFacebookApp = () => {\r\n    return window.hasOwnProperty(\"FBInstant\") && !window['FBInstant'].isMock;\r\n}\r\n\r\nfunction execFB(func: string, ...options) {\r\n    if (window.hasOwnProperty(\"FBInstant\")) {\r\n        let funcs = func.split('.');\r\n        let instant = window['FBInstant'];\r\n        while (funcs.length > 1) {\r\n            instant = instant[funcs.shift()];\r\n        }\r\n        if (instant && funcs.length == 1) {\r\n            if (instant.hasOwnProperty(funcs[0])) {\r\n                return instant[funcs[0]](...options);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n//////////////////////////\r\n/////  QQ\r\n//////////////////////////\r\n\r\nconst isQQApp = () => {\r\n    return window.hasOwnProperty(\"BK\") && !window['BK'].isMock;\r\n}\r\n\r\nfunction execQQ(func: string, ...options) {\r\n    if (window.hasOwnProperty(\"BK\")) {\r\n        let funcs = func.split('.');\r\n        let instant = window['BK'];\r\n        while (funcs.length > 1) {\r\n            instant = instant[funcs.shift()];\r\n        }\r\n        if (instant && funcs.length == 1) {\r\n            if (instant.hasOwnProperty(funcs[0])) {\r\n                return instant[funcs[0]](...options);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n//////////////////////////\r\n/////  Wechat\r\n//////////////////////////\r\n\r\nconst isWechatApp = () => {\r\n    return !isFacebookApp() && !isQQApp() && window.hasOwnProperty(\"wx\") && !window['wx'].isMock;\r\n}\r\n\r\nfunction execWX(func, ...options) {\r\n    if (window.hasOwnProperty(\"wx\")) {\r\n        let funcs = func.split('.');\r\n        let instant = window['wx'];\r\n        while (funcs.length > 1) {\r\n            instant = instant[funcs.shift()];\r\n        }\r\n        if (instant && funcs.length == 1) {\r\n            if (instant.hasOwnProperty(funcs[0])) {\r\n                return instant[funcs[0]](...options);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction postMessageToWXOpenDataContext(data) {\r\n    let openDataContext = execWX('getOpenDataContext');\r\n    openDataContext && openDataContext.postMessage && openDataContext.postMessage(data);\r\n}\r\n\r\n//////////////////////////\r\n/////  Baidu\r\n//////////////////////////\r\n\r\nconst isBaiduApp = () => {\r\n    return !isFacebookApp() && !isQQApp() && window.hasOwnProperty(\"swan\") && !window['swan'].isMock;\r\n}\r\n\r\nfunction execBD(func, ...options) {\r\n    if (window.hasOwnProperty(\"swan\")) {\r\n        let funcs = func.split('.');\r\n        let instant = window['swan'];\r\n        while (funcs.length > 1) {\r\n            instant = instant[funcs.shift()];\r\n        }\r\n        if (instant && funcs.length == 1) {\r\n            if (instant.hasOwnProperty(funcs[0])) {\r\n                return instant[funcs[0]](...options);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction postMessageToBDOpenDataContext(data) {\r\n    let openDataContext = execBD('getOpenDataContext');\r\n    openDataContext && openDataContext.postMessage && openDataContext.postMessage(data);\r\n}\r\n\r\n//////////////////////////\r\n/////  Version\r\n//////////////////////////\r\n\r\nlet _tape_version = \"3.7.1\";\r\nlet _app_version = '${app_version}';\r\n\r\nfunction getVersion(): string {\r\n    if (_tape_version.indexOf('${') === 0) {\r\n        return '1.0.0';\r\n    }\r\n    return _tape_version;\r\n}\r\n\r\nfunction getAppVersion(): string {\r\n    if (_app_version.indexOf('${') === 0) {\r\n        return '1.0.0';\r\n    }\r\n    return _app_version;\r\n}\r\n\r\n//////////////////////////\r\n/////  Debug\r\n//////////////////////////\r\n\r\nlet _debugOn = true;\r\n\r\nfunction setDebug(on: boolean) {\r\n    _debugOn = on;\r\n}\r\n\r\nfunction printDebug(message: any, ...options) {\r\n    if (_debugOn) {\r\n        console.log(\"Tape:\", message, ...options);\r\n    }\r\n}\r\n\r\nfunction printError(message: any, ...options) {\r\n    if (_debugOn) {\r\n        console.error(\"Tape:\", message, ...options);\r\n    }\r\n}\r\n\r\n//////////////////////////\r\n/////  Env\r\n//////////////////////////\r\n\r\nlet _env = '${env}';\r\n\r\nfunction getEnv() {\r\n    if (_env.indexOf('${') === 0) {\r\n        return 'development';\r\n    }\r\n    return _env;\r\n}\r\n\r\nfunction setEnv(env) {\r\n    _env = env;\r\n}\r\n\r\nfunction isDev() {\r\n    return getEnv() !== 'production';\r\n}\r\n\r\nfunction isProd() {\r\n    return getEnv() === 'production';\r\n}\r\n\r\n\r\n//////////////////////////\r\n/////  platform\r\n//////////////////////////\r\n\r\nexport const FACEBOOK = 'facebook';\r\nexport const QQ = 'qq';\r\nexport const WECHAT = 'wechat';\r\nexport const BAIDU = 'baidu';\r\nexport const BROWSER = 'browser';\r\n\r\nfunction getPlatform() {\r\n    if (isFacebookApp()) {\r\n        return FACEBOOK;\r\n    } else if (isQQApp()) {\r\n        return QQ;\r\n    } else if (isWechatApp()) {\r\n        return WECHAT;\r\n    } else if (isBaiduApp()) {\r\n        return BAIDU;\r\n    }\r\n    return BROWSER;\r\n}\r\n\r\nexport default {\r\n    getAppVersion,\r\n    getVersion,\r\n    isLayaApp,\r\n    isConchApp,\r\n    isBrowserApp,\r\n    sendMessageToPlatform,\r\n    isQQApp,\r\n    execQQ,\r\n    isFacebookApp,\r\n    execFB,\r\n    isWechatApp,\r\n    execWX,\r\n    postMessageToWXOpenDataContext,\r\n    isBaiduApp,\r\n    execBD,\r\n    postMessageToBDOpenDataContext,\r\n    setDebug,\r\n    printError,\r\n    printDebug,\r\n    getEnv,\r\n    setEnv,\r\n    isDev,\r\n    isProd,\r\n    getPlatform,\r\n}","import { initBg } from \"./bg\";\r\nimport { initUI } from \"./uimgr\";\r\n\r\nlet _offset_x = 0;\r\nlet _offset_y = 0;\r\nlet _design_width = 0;\r\nlet _design_height = 0;\r\n\r\nexport function initScreen(is3D, width, height, ...options) {\r\n    _design_width = width;\r\n    _design_height = height;\r\n    let screenRatio = Laya.Browser.clientHeight / laya.utils.Browser.clientWidth;\r\n    let initRatio = height / width;\r\n    let initWidth = width;\r\n    let initHeight = height;\r\n    _offset_x = 0;\r\n    _offset_y = 0;\r\n    if (Math.abs(screenRatio / initRatio - 1) > 0.1) {\r\n        if (screenRatio > initRatio) {\r\n            initHeight = width * screenRatio;\r\n            _offset_y = (initHeight - height) / 2;\r\n        } else {\r\n            initWidth = height / screenRatio;\r\n            _offset_x = (initWidth - width) / 2;\r\n        }\r\n    }\r\n    if (is3D) {\r\n        Laya3D.init.apply(this, [initWidth, initHeight, ...options]);\r\n    } else {\r\n        Laya.init.apply(this, [initWidth, initHeight, ...options]);\r\n    }\r\n    Laya.stage.scaleMode = Laya.Stage.SCALE_EXACTFIT;\r\n    Laya.stage.alignH = Laya.Stage.ALIGN_CENTER;\r\n    Laya.stage.alignV = Laya.Stage.ALIGN_MIDDLE;\r\n    initBg();\r\n    initUI(_offset_x, _offset_y)\r\n}\r\n\r\nfunction getWidth() {\r\n    return Laya.stage.width;\r\n}\r\n\r\nfunction getHeight() {\r\n    return Laya.stage.height;\r\n}\r\n\r\nfunction getOffestX() {\r\n    return _offset_x;\r\n}\r\n\r\nfunction getOffestY() {\r\n    return _offset_y;\r\n}\r\n\r\nfunction getDesignWidth() {\r\n    return _design_width;\r\n}\r\n\r\nfunction getDesignHeight() {\r\n    return _design_height;\r\n}\r\n\r\nexport default {\r\n    getWidth,\r\n    getHeight,\r\n    getOffestX,\r\n    getOffestY,\r\n    getDesignWidth,\r\n    getDesignHeight,\r\n}","import NavStack from \"./stack\";\r\n\r\nlet _options = null;\r\nlet _inited = false;\r\nlet _isReady = false;\r\nlet _readyResolve = null;\r\nlet _readyPromise: Promise<any> = new Promise((resolve) => {\r\n    _readyResolve = resolve;\r\n});\r\n\r\nfunction _enableResourceVersion() {\r\n    if (_options && _options.fileVersion) {\r\n        Laya.ResourceVersion.type = Laya.ResourceVersion.FILENAME_VERSION;\r\n        Laya.ResourceVersion.enable(_options.fileVersion, Laya.Handler.create(null, () => {\r\n            _beginLoadStaticRes();\r\n        }))\r\n    } else {\r\n        _beginLoadStaticRes();\r\n    }\r\n}\r\n\r\nfunction _beginLoadStaticRes() {\r\n    let res = _options.commonRes || [];\r\n    if (res.length > 0) {\r\n        Laya.loader.load(res, Laya.Handler.create(null, () => {\r\n            _onStaticResLoaded();\r\n            _options.onLoaded && _options.onLoaded();\r\n        }), Laya.Handler.create(this, (progress) => {\r\n            _options.onLoadProgress && _options.onLoadProgress(progress);\r\n        }, null, false));\r\n    } else {\r\n        _options.onLoadProgress && _options.onLoadProgress(100);\r\n        _options.onLoaded && _options.onLoaded();\r\n        _onStaticResLoaded();\r\n    }\r\n}\r\n\r\nfunction _onStaticResLoaded() {\r\n    _options.mainPage && NavStack.navigate(_options.mainPage);\r\n}\r\n\r\nexport function initNavigator(options) {\r\n    if (!options || _inited) {\r\n        return;\r\n    }\r\n    _options = options;\r\n    _enableResourceVersion();\r\n    _inited = true;\r\n}\r\n\r\nexport function onNavigatorReady(): Promise<any> {\r\n    if (_isReady) {\r\n        return Promise.resolve();\r\n    }\r\n    return _readyPromise;\r\n}\r\n\r\nexport function setNavigatorReady(): void {\r\n    if (_isReady) {\r\n        return;\r\n    }\r\n    _isReady = true;\r\n    _readyResolve();\r\n    _readyResolve = null;\r\n    _readyPromise = null;\r\n}","import { setFocus } from \"../navigator/stack\";\r\nimport NavLoader from \"../navigator/loader\";\r\n\r\nlet _inited = false;\r\nlet _mainUILayer: Laya.Sprite;\r\nlet _topUILayer: Laya.Sprite;\r\nlet _offsetX = 0;\r\nlet _offsetY = 0;\r\n\r\nexport function initUI(offsetX, offsetY) {\r\n    _offsetX = offsetX;\r\n    _offsetY = offsetY;\r\n    _checkInit();\r\n}\r\n\r\nfunction _checkInit() {\r\n    if (_inited) {\r\n        return;\r\n    }\r\n    let uiManager = new Laya.Sprite();\r\n    _mainUILayer = new Laya.Sprite();\r\n    _mainUILayer.x = _offsetX;\r\n    _mainUILayer.y = _offsetY;\r\n    _mainUILayer.name = '_tape_main_layer';\r\n\r\n    _topUILayer = new Laya.Sprite();\r\n    _topUILayer.name = '_tape_top_layer';\r\n    _topUILayer.x = _offsetX;\r\n    _topUILayer.y = _offsetY;\r\n    uiManager.addChild(_mainUILayer);\r\n    uiManager.addChild(_topUILayer);\r\n    Laya.stage.addChild(uiManager);\r\n    _inited = true;\r\n}\r\n\r\nfunction checkFocus() {\r\n    if (_mainUILayer.numChildren > 0) {\r\n        let last = _mainUILayer.getChildAt(_mainUILayer.numChildren - 1);\r\n        if (last instanceof NavLoader) {\r\n            setFocus(true);\r\n            return;\r\n        }\r\n    }\r\n    setFocus(false);\r\n}\r\n\r\nfunction moveTopToMainLayer(view: NavLoader) {\r\n    _checkInit();\r\n    if (view && view.parent == _mainUILayer) {\r\n        _mainUILayer.removeChild(view);\r\n        _mainUILayer.addChild(view);\r\n    }\r\n    checkFocus();\r\n}\r\n\r\nfunction addViewToMainLayer(view) {\r\n    _checkInit();\r\n    view && _mainUILayer.addChild(view);\r\n    checkFocus();\r\n}\r\n\r\nfunction addViewTopLayer(view) {\r\n    _checkInit();\r\n    view && _topUILayer.addChild(view);\r\n    checkFocus();\r\n}\r\n\r\nexport default {\r\n    checkFocus,\r\n    moveTopToMainLayer,\r\n    addViewToMainLayer,\r\n    addViewTopLayer,\r\n}","import NavLoader from \"./loader\";\r\nimport UIMgr from \"../manager/uimgr\";\r\nimport uimgr from \"../manager/uimgr\";\r\n\r\nlet _loaders = [];\r\nlet _loading = false;\r\n\r\nfunction _all() {\r\n    return _loaders;\r\n}\r\n\r\nfunction _length() {\r\n    return _loaders.length;\r\n}\r\n\r\nfunction _getStack(index = 0) {\r\n    var len = _length();\r\n    return len > index ? _loaders[len - 1 - index] : null;\r\n}\r\n\r\nfunction _showStack(index = 0, anim = false, callback = null) {\r\n    let stack = _getStack(index);\r\n    if (!stack) {\r\n        return;\r\n    }\r\n    stack.show(anim && _length() > 1, callback);\r\n}\r\n\r\nfunction _pushStack(stack) {\r\n    _loaders.push(stack);\r\n}\r\n\r\nfunction _topStack(stack) {\r\n    let index = _loaders.indexOf(stack);\r\n    if (index >= 0) {\r\n        _loaders.splice(index, 1);\r\n        _loaders.push(stack);\r\n        _refreshStack(null);\r\n        uimgr.moveTopToMainLayer(stack);\r\n    }\r\n}\r\n\r\nfunction _refreshStack(callback) {\r\n    _showStack(0, true, () => {\r\n        let stack = _getStack(1);\r\n        if (!stack) {\r\n            return;\r\n        }\r\n        stack.hide();\r\n        callback && callback();\r\n    });\r\n}\r\n\r\nfunction _finishStack(stacks) {\r\n    if (!stacks || stacks.length <= 0) {\r\n        return;\r\n    }\r\n    for (var i = 0; _length() > 1 && i < stacks.length; i++) {\r\n        var stack = stacks[i];\r\n        _loaders.splice(_loaders.indexOf(stack), 1);\r\n        stack.hide();\r\n        stack.exit();\r\n    }\r\n    _showStack(0);\r\n}\r\n\r\nfunction _popStack(count) {\r\n    if (count >= _length()) {\r\n        count = _length() - 1;\r\n    }\r\n    if (count <= 0) {\r\n        return;\r\n    }\r\n    let pops = _loaders.splice(_length() - count, count);\r\n    pops.forEach(element => {\r\n        element.hide();\r\n        element.exit();\r\n    });\r\n    _showStack(0);\r\n}\r\n\r\nexport function setFocus(focus) {\r\n    let stack = _getStack();\r\n    if (stack) {\r\n        stack.focus(focus);\r\n    }\r\n}\r\n\r\nfunction navigate(page, params = null, action = null, single = false) {\r\n    if (!params) {\r\n        params = {};\r\n    }\r\n    let open = () => {\r\n        new NavLoader({\r\n            page,\r\n            params,\r\n            onShow: () => {\r\n                _refreshStack(() => {\r\n                    action && action(true);\r\n                });\r\n            },\r\n            onLoaded: (loader) => {\r\n                _loading = false;\r\n                UIMgr.addViewToMainLayer(loader);\r\n                _pushStack(loader);\r\n            },\r\n            onLoadProgress: (loader, progress) => {\r\n                if (_loading) {\r\n                    var stack = _getStack();\r\n                    stack && stack.nextProgress(progress);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    if (single || page.single) {\r\n        var stacks = [];\r\n        _all().forEach(stack => {\r\n            if (stack.filter(page)) {\r\n                stacks.push(stack);\r\n            }\r\n        });\r\n        stacks.length > 0 ? _topStack(stacks.pop()) : open();\r\n    } else {\r\n        open();\r\n    }\r\n}\r\n\r\nfunction popToTop() {\r\n    _popStack(_length());\r\n}\r\n\r\nfunction pop(number = 1) {\r\n    _popStack(number)\r\n}\r\n\r\nfunction finish(page, instance = null) {\r\n    var stacks = [];\r\n    _all().forEach(stack => {\r\n        if (stack.filter(page, instance)) {\r\n            stacks.push(stack);\r\n        }\r\n    });\r\n    _finishStack(stacks);\r\n}\r\n\r\nexport default {\r\n    navigate,\r\n    pop,\r\n    popToTop,\r\n    finish,\r\n}","function tryParseJson(data) {\r\n    if (typeof data === 'string') {\r\n        try {\r\n            return JSON.parse(data);\r\n        } catch (e) {\r\n            return data;\r\n        }\r\n    }\r\n    return data;\r\n}\r\n\r\nfunction findDataByWhere(data, where) {\r\n    let whereSplit = where.split('|');\r\n    let name = whereSplit[0];\r\n    let findValue = tryParseJson(data);\r\n    if (!data) {\r\n        findValue = null;\r\n    } else if (data[name]) {\r\n        findValue = tryParseJson(data[name]);\r\n    } else {\r\n        var nameSplit = name.split('.');\r\n        nameSplit.forEach(function (key) {\r\n            if (findValue !== null && findValue !== undefined && findValue[key] !== null && findValue[key] !== undefined) {\r\n                findValue = tryParseJson(findValue[key]);\r\n            } else {\r\n                findValue = null;\r\n            }\r\n        });\r\n    }\r\n    let whereArgv = [];\r\n    for (let index = 1; index < whereSplit.length; index += 2) {\r\n        const action = whereSplit[index];\r\n        const target = whereSplit.length > index + 1 ? whereSplit[index + 1] : '';\r\n        whereArgv.push({ action, target });\r\n    }\r\n    let defaultValue = null;\r\n    for (let index = 0; index < whereArgv.length; index++) {\r\n        const { action, target } = whereArgv[index];\r\n        if (action === 'default') {\r\n            defaultValue = target;\r\n        }\r\n        if (findValue !== null && findValue !== undefined) {\r\n            if ((action === 'eq' && target !== findValue.toString())\r\n                || (action === 'neq' && target === findValue.toString())\r\n                || (action === 'gt' && findValue <= target)\r\n                || (action === 'egt' && findValue < target)\r\n                || (action === 'lt' && findValue >= target)\r\n                || (action === 'elt' && findValue > target)\r\n                || (action === 'like' && findValue.toString().indexOf(target) < 0)) {\r\n                findValue = null;\r\n            } else if (action === 'sub') {\r\n                if (findValue.toString().length > Number(target)) {\r\n                    findValue = findValue.toString().substr(0, Number(target)) + '...';\r\n                }\r\n            } else if (action === 'append') {\r\n                findValue = findValue.toString() + target;\r\n            }\r\n        } else {\r\n            findValue = null;\r\n        }\r\n    }\r\n    if (findValue === null) {\r\n        findValue = defaultValue;\r\n    }\r\n    return findValue;\r\n}\r\n\r\nexport function bindView(targetView, targetData) {\r\n    var data = tryParseJson(targetData);\r\n    for (var index = 0; index < targetView.numChildren; index++) {\r\n        var elementView = targetView.getChildAt(index);\r\n        if (elementView.name) {\r\n            var element = findDataByWhere(data, elementView.name);\r\n            if (element) {\r\n                elementView.visible = true;\r\n                if (elementView instanceof Laya.List) {\r\n                    const listView = elementView as Laya.List;\r\n                    listView.array = [];\r\n                    if (listView.repeatY > 1 && listView.repeatY >= listView.repeatX && !listView.vScrollBarSkin) {\r\n                        listView.vScrollBarSkin = null;\r\n                    } else if (listView.repeatX > 1 && listView.repeatX >= listView.repeatY && !listView.hScrollBarSkin) {\r\n                        listView.hScrollBarSkin = null;\r\n                    } else if (!listView.vScrollBarSkin && !listView.hScrollBarSkin) {\r\n                        listView.vScrollBarSkin = null;\r\n                    }\r\n                    listView.renderHandler = Laya.Handler.create(this, function (itemView, index) {\r\n                        var elementItemData = listView.array[index];\r\n                        if (typeof elementItemData === 'object') {\r\n                            Object.assign(elementItemData, { index });\r\n                        }\r\n                        bindView(itemView, elementItemData);\r\n                    }, null, false);\r\n                    listView.array = element;\r\n                } else if (elementView instanceof Laya.FontClip) {\r\n                    elementView.value = element;\r\n                } else if (elementView instanceof Laya.Label) {\r\n                    elementView.text = element;\r\n                } else if (elementView instanceof Laya.Text) {\r\n                    elementView.text = element;\r\n                } else if (elementView instanceof Laya.Image) {\r\n                    elementView.skin = element;\r\n                } else if (elementView instanceof Laya.Box) {\r\n                    bindView(elementView, element);\r\n                } else {\r\n                    elementView.value = element;\r\n                }\r\n            } else {\r\n                elementView.visible = false;\r\n            }\r\n        }\r\n    }\r\n}","import screen from \"../manager/screen\";\r\n\r\nexport default class ui extends Laya.Component {\r\n\r\n    private _bgSprite = null;\r\n    private _bgAlpha = 0.5;\r\n    private _bgColor = '#000000';\r\n    private _isTranslucent = true;\r\n    private _isShow = false;\r\n    private _handleOnTouchOutside = null;\r\n    private _canceledOnTouchOutside = false;\r\n    private _mask = false;\r\n    private _onEvent = null;\r\n\r\n    constructor(handleOnTouchOutside = null) {\r\n        super();\r\n        this._handleOnTouchOutside = handleOnTouchOutside;\r\n        this._onEvent = (e) => {\r\n            if (this.isShow && this.canceledOnTouchOutside) {\r\n                this._handleOnTouchOutside && this._handleOnTouchOutside();\r\n            }\r\n            e.stopPropagation();\r\n        }\r\n        setTimeout(() => this.initBg(), 0);\r\n    }\r\n\r\n    public set ui(view: Laya.Sprite) {\r\n        this.removeChildByName('_contentView');\r\n        view.name = '_contentView';\r\n        this.addChild(view);\r\n    }\r\n\r\n    public get ui(): Laya.Sprite {\r\n        return this.getChildByName('_contentView') as Laya.Sprite;\r\n    }\r\n\r\n    public set isShow(isShow) {\r\n        this._isShow = isShow;\r\n    }\r\n\r\n    public get isShow() {\r\n        return this._isShow;\r\n    }\r\n\r\n    public set bgAlpha(bgAlpha) {\r\n        this._bgAlpha = bgAlpha;\r\n        this.refreshBg();\r\n    }\r\n\r\n    public get bgAlpha() {\r\n        return this._bgAlpha;\r\n    }\r\n\r\n    public set bgColor(bgColor) {\r\n        this._bgColor = bgColor;\r\n        this.refreshBg();\r\n    }\r\n\r\n    public get bgColor() {\r\n        return this._bgColor;\r\n    }\r\n\r\n    public set isTranslucent(isTranslucent) {\r\n        this._isTranslucent = isTranslucent;\r\n        this.refreshBg();\r\n    }\r\n\r\n    public get isTranslucent() {\r\n        return this._isTranslucent;\r\n    }\r\n\r\n    public set canceledOnTouchOutside(canceledOnTouchOutside) {\r\n        this._canceledOnTouchOutside = canceledOnTouchOutside;\r\n        this.refreshCanceledOnTouchOutside();\r\n    }\r\n\r\n    public get canceledOnTouchOutside() {\r\n        return this._canceledOnTouchOutside;\r\n    }\r\n\r\n    public set nonPenetrating(nonPenetrating) {\r\n        this._mask = nonPenetrating;\r\n        this.refreshCanceledOnTouchOutside();\r\n    }\r\n\r\n    public get nonPenetrating() {\r\n        return this._mask;\r\n    }\r\n\r\n    private refreshBg() {\r\n        if (!this._bgSprite) {\r\n            return;\r\n        }\r\n        this._bgSprite.alpha = this.bgAlpha;\r\n        this._bgSprite.graphics.clear();\r\n        if (!this.isTranslucent) {\r\n            this._bgSprite.graphics.drawRect(0, 0, this._bgSprite.width, this._bgSprite.height, this.bgColor);\r\n        }\r\n    }\r\n\r\n    private refreshCanceledOnTouchOutside() {\r\n        this._bgSprite && this._bgSprite.offAll();\r\n        if ((this.canceledOnTouchOutside || this.nonPenetrating) && this.ui) {\r\n            this.ui.mouseThrough = true;\r\n            this._bgSprite && this._bgSprite.on(Laya.Event.CLICK, this, this._onEvent);\r\n        }\r\n    }\r\n\r\n    private initBg() {\r\n        if (this._bgSprite) {\r\n            return;\r\n        }\r\n        this._bgSprite = new Laya.Sprite();\r\n        this._bgSprite.x = -screen.getOffestX();\r\n        this._bgSprite.y = -screen.getOffestY();\r\n        this._bgSprite.width = screen.getWidth();\r\n        this._bgSprite.height = screen.getHeight();\r\n        this.addChildAt(this._bgSprite, 0);\r\n        this.refreshBg();\r\n        this.refreshCanceledOnTouchOutside();\r\n    }\r\n\r\n}","import toast from \"./toastmanager\";\r\nimport ui from \"./ui\";\r\nimport screen from \"../manager/screen\";\r\n\r\nexport default class ToastView extends ui {\r\n\r\n    static show(params, onHide) {\r\n        toast.showToast(this, params, onHide);\r\n    }\r\n\r\n    static hide() {\r\n        toast.hideToast(this);\r\n    }\r\n\r\n    public toast;\r\n    public params;\r\n    public duration = 200;\r\n    public displayDuration = 1000;\r\n    public easeIn = null;\r\n    public easeOut = null;\r\n    public fromProps = null;\r\n    public toProps = null;\r\n    public onShow?(): void;\r\n    public onHide?(): void;\r\n\r\n    constructor() {\r\n        super(() => { this.hide() });\r\n        this.width = screen.getDesignWidth();\r\n        this.height = screen.getDesignHeight();\r\n    }\r\n\r\n    public hide() {\r\n        toast.hideToast(this.toast, this);\r\n    }\r\n\r\n}","import screen from \"./screen\";\r\n\r\nlet _bgSprite = null;\r\nlet _bgLabel: Laya.Label = null;\r\nlet _bgImage: Laya.Image = null;\r\nlet _bgColor = null;\r\nlet _bgSkin = null;\r\nlet _bgSizeGrid = null;\r\n\r\nfunction _drawSkin() {\r\n    if (_bgImage && _bgSkin) {\r\n        _bgImage.skin = _bgSkin;\r\n    }\r\n    if (_bgImage && _bgSizeGrid) {\r\n        _bgImage.sizeGrid = _bgSizeGrid;\r\n    }\r\n}\r\n\r\nfunction _drawColor() {\r\n    if (_bgLabel && _bgColor) {\r\n        _bgLabel.bgColor = _bgColor;\r\n    }\r\n}\r\n\r\nexport function initBg() {\r\n    _bgSprite = Laya.stage.getChildByName('_tape_bg_layer');\r\n    if (!_bgSprite) {\r\n        _bgSprite = new Laya.Sprite;\r\n        _bgSprite.name = '_tape_bg_layer';\r\n\r\n        _bgLabel = new Laya.Label;\r\n        _bgLabel.name = '_bg_label';\r\n        _bgSprite.addChild(_bgLabel);\r\n\r\n        _bgImage = new Laya.Image;\r\n        _bgImage.name = '_bg_image';\r\n        _bgSprite.addChild(_bgImage);\r\n\r\n        Laya.stage.addChild(_bgSprite);\r\n    }\r\n\r\n    _bgLabel.width = screen.getWidth();\r\n    _bgLabel.height = screen.getHeight();\r\n\r\n    _bgImage.width = screen.getWidth();\r\n    _bgImage.height = screen.getHeight();\r\n\r\n    _bgSprite.width = screen.getWidth();\r\n    _bgSprite.height = screen.getHeight();\r\n\r\n    _drawColor();\r\n    _drawSkin();\r\n}\r\n\r\nfunction setBgColor(color) {\r\n    _bgColor = color;\r\n    _drawColor();\r\n}\r\n\r\nfunction getBgColor() {\r\n    return _bgColor;\r\n}\r\n\r\nfunction setBgSkin(skin) {\r\n    _bgSkin = skin;\r\n    _drawSkin();\r\n}\r\n\r\nfunction getBgSkin() {\r\n    return _bgSkin;\r\n}\r\n\r\nfunction setBgSizeGrid(sizeGrid) {\r\n    _bgSizeGrid = sizeGrid;\r\n    _drawSkin();\r\n}\r\n\r\nfunction getBgSizeGrid() {\r\n    return _bgSizeGrid;\r\n}\r\n\r\nexport default {\r\n    setBgColor,\r\n    getBgColor,\r\n    setBgSkin,\r\n    getBgSkin,\r\n    setBgSizeGrid,\r\n    getBgSizeGrid,\r\n}","import UIMgr from \"../manager/uimgr\";\r\nimport Activity from \"../display/activity\";\r\nimport { onNavigatorReady } from \"./init\";\r\n\r\nexport default class extends Laya.Component {\r\n\r\n    private _options = null;\r\n    private _activity: Activity = null;\r\n    private _isShow = false;\r\n    private _isFocus = false;\r\n\r\n    constructor(options) {\r\n        super();\r\n        this.visible = false;\r\n        this._options = options;\r\n        let res = this._options.page.res;\r\n        if (res && res.length > 0) {\r\n            Laya.loader.load(res, Laya.Handler.create(this, () => {\r\n                this._newActivity();\r\n                this._onLoaded();\r\n            }), Laya.Handler.create(this, (progress) => {\r\n                this._onLoadProgress(progress);\r\n            }, null, false));\r\n        } else {\r\n            this._newActivity();\r\n            this._onLoaded();\r\n        }\r\n    }\r\n\r\n    _newActivity() {\r\n        if (this._activity) {\r\n            return;\r\n        }\r\n        this._activity = new this._options.page({\r\n            page: this._options.page,\r\n            params: this._options.params\r\n        });\r\n        this._options.page.num++;\r\n    }\r\n\r\n    _onLoaded() {\r\n        onNavigatorReady().then(() => {\r\n            this._options.onLoaded && this._options.onLoaded(this);\r\n            this.addChild(this._activity);\r\n            this._activity.onCreate && this._activity.onCreate();\r\n            this._options.onShow && this._options.onShow();\r\n        });\r\n    }\r\n\r\n    _onLoadProgress(progress) {\r\n        this._options.onLoadProgress && this._options.onLoadProgress(this, progress);\r\n    }\r\n\r\n    nextProgress(progress) {\r\n        this._activity.onNextProgress && this._activity.onNextProgress(progress);\r\n    }\r\n\r\n    filter(page, activity) {\r\n        if (page === this._options.page) {\r\n            return !activity || activity === this._activity;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    show(anim, callback) {\r\n        if (this.visible) {\r\n            return;\r\n        }\r\n        if (this._isShow) {\r\n            return;\r\n        }\r\n        this._isShow = true;\r\n        var easeIn = this._activity.easeIn || Laya.Ease.linearIn;\r\n        var duration = this._activity.duration || 0;\r\n        var fromProps = this._activity.fromProps || {};\r\n        var toProps = this._activity.toProps || {};\r\n        if (anim && easeIn && duration > 0) {\r\n            Object.assign(this, fromProps);\r\n            this._activity.onResume && this._activity.onResume();\r\n            this.visible = true;\r\n            Laya.Tween.to(this, toProps, duration, easeIn, Laya.Handler.create(this, () => {\r\n                callback && callback();\r\n            }));\r\n        } else {\r\n            this._activity.onResume && this._activity.onResume();\r\n            this.visible = true;\r\n            callback && callback();\r\n        }\r\n        UIMgr.checkFocus();\r\n    }\r\n\r\n    hide() {\r\n        if (!this.visible) {\r\n            return;\r\n        }\r\n        if (!this._isShow) {\r\n            return;\r\n        }\r\n        this._isShow = false;\r\n        this._activity.onPause && this._activity.onPause();\r\n        this.visible = false;\r\n        this.focus(false);\r\n    }\r\n\r\n    exit() {\r\n        this._options.page.num--;\r\n        this._activity.onDestroy && this._activity.onDestroy();\r\n        this.destroy();\r\n    }\r\n\r\n    focus(focus) {\r\n        if (this._isFocus === focus) {\r\n            return;\r\n        }\r\n        this._isFocus = focus;\r\n        this._activity.onFocus && this._activity.onFocus(focus);\r\n    }\r\n\r\n}","import env from \"../../../utils/env\";\r\nimport screen from \"../../manager/screen\";\r\n\r\nexport function fixWidth(width) {\r\n    let systemInfo = env.execWX('getSystemInfoSync');\r\n    if (systemInfo) {\r\n        let windowWidth = systemInfo.windowWidth;\r\n        let stageWidth = screen.getWidth();\r\n        return width * windowWidth / stageWidth;\r\n    }\r\n    return width;\r\n}\r\n\r\nexport function fixHeight(height) {\r\n    let systemInfo = env.execWX('getSystemInfoSync');\r\n    if (systemInfo) {\r\n        let windowHeight = systemInfo.windowHeight;\r\n        let stageHeight = screen.getHeight();\r\n        return height * windowHeight / stageHeight;\r\n    }\r\n    return height;\r\n}","import UIMgr from \"../manager/uimgr\";\r\n\r\nlet _popups = {};\r\nlet _fromProps = { alpha: 0 }\r\nlet _toProps = { alpha: 1 }\r\n\r\nfunction _showPopupAnim(popupView, cb) {\r\n    let from = popupView.fromProps || _fromProps || {};\r\n    let to = popupView.toProps || _toProps || {};\r\n    let easeIn = popupView.easeIn || Laya.Ease.linearIn;\r\n    let duration = popupView.duration || 500;\r\n    Object.assign(popupView, from);\r\n    Laya.Tween.to(popupView, to, duration, easeIn, Laya.Handler.create(this, () => {\r\n        cb && cb(popupView);\r\n    }));\r\n}\r\n\r\nfunction _hidePopupAnim(popupView, cb) {\r\n    let from = popupView.toProps || _toProps || {};\r\n    let to = popupView.fromProps || _fromProps || {};\r\n    let easeOut = popupView.easeOut || Laya.Ease.linearOut;\r\n    let duration = popupView.duration || 500;\r\n    Object.assign(popupView, from);\r\n    Laya.Tween.to(popupView, to, duration, easeOut, Laya.Handler.create(this, () => {\r\n        cb && cb(popupView);\r\n    }));\r\n}\r\n\r\nfunction _hidePopup(view, result) {\r\n    _hidePopupAnim(view, () => {\r\n        view._onHide && view._onHide(view.popup, result);\r\n        view.isShow = false;\r\n        view.onHide && view.onHide(view.popup, result);\r\n        view.removeSelf && view.removeSelf();\r\n        view.destroy && view.destroy();\r\n        UIMgr.checkFocus();\r\n    });\r\n}\r\n\r\nfunction _showPopup(view) {\r\n    _showPopupAnim(view, () => {\r\n        view.isShow = true;\r\n    });\r\n}\r\n\r\nfunction setDefaultAnim(fromProps, toProps) {\r\n    _fromProps = fromProps;\r\n    _toProps = toProps;\r\n}\r\n\r\nfunction showPopup(popup, params = null, onHide = null) {\r\n    let views = _popups[popup];\r\n    let view = new popup();\r\n    view.popup = popup;\r\n    view.params = params || {};\r\n    view._onHide = onHide;\r\n    if (views) {\r\n        views.push(view);\r\n    } else {\r\n        _popups[popup] = [view];\r\n    }\r\n    UIMgr.addViewToMainLayer(view);\r\n    view.onShow && view.onShow();\r\n    _showPopup(view);\r\n}\r\n\r\nfunction hidePopup(popup, view = null, result = null) {\r\n    var views = _popups[popup];\r\n    if (view) {\r\n        let index = views ? views.indexOf(view) : -1;\r\n        if (index < 0) {\r\n            return;\r\n        }\r\n        views.splice(index, 1);\r\n        _hidePopup(view, result);\r\n    } else {\r\n        views && views.splice(0, views.length).forEach(v => {\r\n            _hidePopup(v, result);\r\n        });\r\n    }\r\n}\r\n\r\nexport default {\r\n    setDefaultAnim,\r\n    showPopup,\r\n    hidePopup\r\n}","import UIMgr from \"../manager/uimgr\";\r\n\r\nlet _toasts: { [key: string]: any[] } = {};\r\n\r\nfunction _pushToast(toast, view) {\r\n    if (_toasts[toast]) {\r\n        _toasts[toast].push(view);\r\n    } else {\r\n        _toasts[toast] = [view];\r\n    }\r\n}\r\n\r\nfunction _popToast(toast, view) {\r\n    if (!_toasts[toast]) {\r\n        return [];\r\n    }\r\n    if (view && _toasts[toast].length > 1) {\r\n        _toasts[toast].splice(_toasts[toast].indexOf(view), 1);\r\n        return [view];\r\n    } else {\r\n        let views = _toasts[toast] || [];\r\n        delete _toasts[toast];\r\n        return views;\r\n    }\r\n}\r\n\r\nfunction showToast(toast, params = null, onHide = null) {\r\n    var view = new toast;\r\n    view._on_hide = onHide;\r\n    view.toast = toast;\r\n    view.params = params || {};\r\n    view.onShow && view.onShow();\r\n    let from = view.fromProps || { alpha: 0 };\r\n    let to = view.toProps || { alpha: 1 };\r\n    let easeIn = view.easeIn || Laya.Ease.linearIn;\r\n    let easeOut = view.easeOut || Laya.Ease.linearOut;\r\n    let duration = view.duration;\r\n    let displayDuration = view.displayDuration;\r\n    Object.assign(view, from);\r\n    Laya.Tween.to(view, to, duration, easeIn, Laya.Handler.create(this, () => {\r\n        view.isShow = true;\r\n    }), 0);\r\n    if (displayDuration != -1) {\r\n        Laya.Tween.to(view, from, duration, easeOut, Laya.Handler.create(this, () => {\r\n            if (view) {\r\n                _popToast(toast, view);\r\n                view._on_hide && view._on_hide(view.toast);\r\n                view.isShow = false;\r\n                view.onHide && view.onHide();\r\n                view.destroy();\r\n            }\r\n        }), displayDuration + duration);\r\n    }\r\n    _pushToast(toast, view);\r\n    UIMgr.addViewTopLayer(view);\r\n}\r\n\r\nfunction hideToast(toast, view = null) {\r\n    let list = _popToast(toast, view);\r\n    list.forEach(view => {\r\n        view._on_hide && view._on_hide(view.toast);\r\n        view.isShow = false;\r\n        view.onHide && view.onHide();\r\n        view.destroy();\r\n    });\r\n}\r\n\r\nexport default {\r\n    showToast,\r\n    hideToast,\r\n}","import popup from \"./popupmanager\";\r\nimport ui from \"./ui\";\r\nimport screen from \"../manager/screen\";\r\n\r\nexport default class PopupView extends ui {\r\n\r\n    static show(params, onHide) {\r\n        popup.showPopup(this, params, onHide);\r\n    }\r\n\r\n    static hide(result) {\r\n        popup.hidePopup(this, null, result);\r\n    }\r\n\r\n    public popup;\r\n    public params;\r\n    public duration = 500;\r\n    public easeIn = null;\r\n    public easeOut = null;\r\n    public fromProps = null;\r\n    public toProps = null;\r\n    public onShow?(): void;\r\n    public onHide?(): void;\r\n    public isTranslucent = false;\r\n    public canceledOnTouchOutside = false;\r\n\r\n    public hide(result = null) {\r\n        popup.hidePopup(this.popup, this, result);\r\n    }\r\n\r\n    constructor() {\r\n        super(() => {\r\n            this.hide();\r\n        });\r\n        this.nonPenetrating = true;\r\n        this.width = screen.getDesignWidth();\r\n        this.height = screen.getDesignHeight();\r\n    }\r\n\r\n}","import screen from \"../manager/screen\";\r\nimport { BgView } from \"./bg\";\r\nimport { IconView } from \"./icon\";\r\n\r\nexport class TipsView extends Laya.Sprite {\r\n\r\n    private _maxWidth = 0;\r\n    private _minWidth = 0;\r\n    private _padding = 0;\r\n    private _fontSize = 0;\r\n    private _radius = 0;\r\n    private _bgView = null;\r\n    private _iconView: IconView = null;\r\n    private _iconSize = 0;\r\n    private _titleView = null;\r\n\r\n    constructor() {\r\n        super();\r\n        let size = Math.min(screen.getDesignWidth(), screen.getDesignHeight());\r\n        this._maxWidth = size * 0.6;\r\n        this._minWidth = size * 0.4;\r\n        this._iconSize = size * 0.15;\r\n        this._padding = size * 0.08;\r\n        this._fontSize = size * 0.06;\r\n        this._radius = 0;\r\n        this._initBg();\r\n        this._initIcon();\r\n        this._initTitle();\r\n    }\r\n\r\n    private _initBg() {\r\n        this._bgView = new BgView();\r\n        this._bgView.name = '_bg';\r\n        this._bgView.alpha = 0.6;\r\n        this._bgView.color = '#333333';\r\n        this._bgView.radius = this._radius;\r\n        this.addChild(this._bgView);\r\n    }\r\n\r\n    private _initIcon() {\r\n        this._iconView = new IconView;\r\n        this._iconView.setSize(this._iconSize);\r\n        this._iconView.name = '_icon';\r\n        this.addChild(this._iconView);\r\n    }\r\n\r\n    private _initTitle() {\r\n        this._titleView = new Laya.Label()\r\n        this._titleView.align = Laya.Stage.ALIGN_CENTER;\r\n        this._titleView.valign = Laya.Stage.ALIGN_MIDDLE;\r\n        this._titleView.wordWrap = true;\r\n        this._titleView.name = '_title';\r\n        this._titleView.fontSize = this._fontSize;\r\n        this._titleView.color = '#ffffff';\r\n        this._titleView.x = this._padding;\r\n        this._titleView.y = this._padding;\r\n        this.addChild(this._titleView);\r\n    }\r\n\r\n    public setContent(title, icon) {\r\n        let titleY = 0;\r\n        let bgH = 0;\r\n\r\n        if (icon && icon != 'none') {\r\n            this._iconView.y = this._padding + this._iconView.height / 2;\r\n            this._iconView.visible = true;\r\n            this._iconView.setSize(this._iconSize);\r\n            this._iconView.setIcon(icon);\r\n            titleY = this._iconSize + this._padding * 5 / 4;\r\n            bgH = this._iconSize + 2 * this._padding;\r\n        } else {\r\n            this._iconView.visible = false;\r\n            titleY = this._padding;\r\n        }\r\n\r\n        if (title) {\r\n            this._titleView.width = undefined;\r\n            this._titleView.visible = true;\r\n            this._titleView.text = title;\r\n            if (this._titleView.width > this._maxWidth) {\r\n                this._titleView.width = this._maxWidth;\r\n            } else if (this._titleView.width < this._minWidth) {\r\n                this._titleView.width = this._minWidth;\r\n            }\r\n            this._titleView.y = titleY;\r\n            bgH = this._titleView.height + this._titleView.y + this._padding;\r\n        } else {\r\n            this._titleView.visible = false;\r\n        }\r\n\r\n        this._bgView.height = bgH;\r\n        this._bgView.width = Math.max(this._titleView.width, this._iconView.width) + 2 * this._padding;\r\n\r\n        this._bgView.callDraw();\r\n\r\n        this._iconView.x = this._bgView.width / 2;\r\n\r\n        this.x = (screen.getDesignWidth() - this._bgView.width) / 2;\r\n        this.y = (screen.getDesignHeight() - this._bgView.height) / 2;\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n","export class BgView extends Laya.Sprite {\r\n\r\n    public radius = 0;\r\n    public color = '#ff0000';\r\n\r\n    public callDraw() {\r\n        this.graphics.clear();\r\n        if (this.radius <= 0) {\r\n            this.graphics.drawRect(0, 0, this.width, this.height, this.color);\r\n        } else {\r\n            let realRadius = this.radius;\r\n            if (realRadius * 4 > this.width || realRadius * 4 > this.height) {\r\n                realRadius = Math.min(this.width / 4, this.height / 4);\r\n            }\r\n            this.graphics.drawPath(0, 0, [\r\n                [\"moveTo\", realRadius, 0],\r\n                [\"lineTo\", this.width - realRadius, 0],\r\n                [\"arcTo\", this.width, 0, this.width, realRadius, realRadius],\r\n                [\"lineTo\", this.width, this.height - realRadius],\r\n                [\"arcTo\", this.width, this.height, this.width - realRadius, this.height, realRadius],\r\n                [\"lineTo\", realRadius, this.height],\r\n                [\"arcTo\", 0, this.height, 0, this.height - realRadius, realRadius],\r\n                [\"lineTo\", 0, realRadius],\r\n                [\"arcTo\", 0, 0, realRadius, 0, realRadius],\r\n                [\"closePath\"]\r\n            ], { fillStyle: this.color });\r\n        }\r\n    }\r\n\r\n}","import bg from \"./services/manager/bg\";\r\nimport screen from \"./services/manager/screen\";\r\nimport audio from './services/audio';\r\nimport env from \"./utils/env\";\r\n\r\nimport ad from './services/ad';\r\nimport app from './services/app';\r\nimport rank from './services/rank';\r\nimport other from './services/other';\r\n\r\nimport utils from './services/utils';\r\nimport navigator from \"./services/navigator/stack\";\r\nimport popup from \"./services/display/popupmanager\";\r\nimport toast from \"./services/display/toastmanager\";\r\n\r\nimport Activity from \"./services/display/activity\";\r\nimport PopupView from \"./services/display/popupview\";\r\nimport ToastView from \"./services/display/toastview\";\r\n\r\nimport { init, init3D, start, exit } from './services/init';\r\nimport {\r\n    showLoading,\r\n    hideLoading,\r\n    showModal,\r\n    showToast,\r\n    hideToast,\r\n    vibrateLong,\r\n    vibrateShort,\r\n} from './services/comp';\r\n\r\nimport runtime from \"./runtime\";\r\n\r\nconst Tape = {\r\n\r\n    init,\r\n    init3D,\r\n    start,\r\n    exit,\r\n\r\n    // interactive\r\n    showLoading,\r\n    hideLoading,\r\n    showModal,\r\n    showToast,\r\n    hideToast,\r\n    vibrateShort,\r\n    vibrateLong,\r\n\r\n    bg,\r\n    screen,\r\n    audio,\r\n    env,\r\n\r\n    ad,\r\n    app,\r\n    rank,\r\n    other,\r\n    runtime,\r\n\r\n    utils,\r\n\r\n    navigator,\r\n    popup,\r\n    toast,\r\n\r\n    Activity,\r\n    PopupView,\r\n    ToastView,\r\n}\r\n\r\nif (typeof window !== \"undefined\") {\r\n    (window as any).Tape = Tape;\r\n}\r\n\r\nexport = {\r\n    Tape\r\n}\r\n","import env from \"../utils/env\";\r\nimport loop from \"./loop\";\r\n\r\nfunction fixWechatAudioPlay(callback: Function) {\r\n    if (window && window['WeixinJSBridge']) {\r\n        try {\r\n            window['WeixinJSBridge'].invoke(\"getNetworkType\", {}, () => {\r\n                callback && callback();\r\n            });\r\n        } catch (e) {\r\n            callback && callback();\r\n        }\r\n    } else {\r\n        callback && callback();\r\n    }\r\n}\r\n\r\nclass AudioController {\r\n\r\n    private _auidoUrl = '';\r\n    private _chancel: Laya.SoundChannel = null;\r\n    private _playing = false;\r\n    private _onPlay = null;\r\n    private _onPause = null;\r\n    private _onStop = null;\r\n    private _onError = null;\r\n    private _onProgress = null;\r\n    private _onComplete = null;\r\n    private _position = -1;\r\n    private _duration = -1;\r\n    private _paused = false;\r\n    private _type = 'sound';\r\n    private _playTime = 0;\r\n\r\n    constructor(type) {\r\n        this._type = type;\r\n    }\r\n\r\n    private _update() {\r\n        if (this._chancel) {\r\n            this._position = this._chancel.position;\r\n            this._duration = this._chancel.duration;\r\n            if (!this._playing && this._position > 0) {\r\n                this._playing = true;\r\n                this._onPlay && this._onPlay();\r\n            }\r\n            if (this._playing && this._duration > 0) {\r\n                this._onProgress && this._onProgress({\r\n                    position: this.position,\r\n                    duration: this.duration,\r\n                });\r\n            } else if (Date.now() - this._playTime > 2000) {\r\n                this._onError && this._onError();\r\n                this.stop();\r\n            }\r\n        }\r\n    }\r\n\r\n    public onPlay(callback) {\r\n        this._onPlay = callback;\r\n    }\r\n\r\n    public onStop(callback) {\r\n        this._onStop = callback;\r\n    }\r\n\r\n    public onPause(callback) {\r\n        this._onPause = callback;\r\n    }\r\n\r\n    public onProgress(callback) {\r\n        this._onProgress = callback;\r\n    }\r\n\r\n    public onComplete(callback) {\r\n        this._onComplete = callback;\r\n    }\r\n\r\n    public onError(callback) {\r\n        this._onError = callback;\r\n    }\r\n\r\n    public set url(url) {\r\n        if (this._auidoUrl != url) {\r\n            this._auidoUrl = url;\r\n            this.stop();\r\n        }\r\n    }\r\n\r\n    public get url() {\r\n        return this._auidoUrl;\r\n    }\r\n\r\n    public get type() {\r\n        return this._type;\r\n    }\r\n\r\n    public get position() {\r\n        return this._position;\r\n    }\r\n\r\n    public get duration() {\r\n        return this._duration;\r\n    }\r\n\r\n    public isPaused() {\r\n        return this._paused;\r\n    }\r\n\r\n    public isPlaying() {\r\n        return this._playing;\r\n    }\r\n\r\n    public play(loops: number = 1) {\r\n        fixWechatAudioPlay(() => {\r\n            if (this._auidoUrl) {\r\n                this.stop();\r\n                var ext = Laya.Utils.getFileExtension(this._auidoUrl);\r\n                if (env.isConchApp() && ext != \"wav\" && ext != \"ogg\") {\r\n                    return;\r\n                }\r\n                this._playTime = Date.now();\r\n                this._chancel = Laya.SoundManager.playSound(this._auidoUrl, loops, Laya.Handler.create(this, () => {\r\n                    this._onComplete && this._onComplete();\r\n                    this.stop();\r\n                }), null, 0);\r\n                loop.loop(this, this._update);\r\n            }\r\n        });\r\n    }\r\n\r\n    public pause() {\r\n        if (this._chancel && this._playing) {\r\n            this._onPause && this._onPause();\r\n            this._chancel.pause();\r\n            this._paused = true;\r\n            this._playing = false;\r\n            loop.clear(this, this._update);\r\n        }\r\n    }\r\n\r\n    public resume() {\r\n        if (this._chancel && this._paused) {\r\n            this._paused = false;\r\n            this._chancel.resume();\r\n            loop.loop(this, this._update);\r\n        }\r\n    }\r\n\r\n    public stop() {\r\n        if (this._chancel) {\r\n            this._onStop && this._onStop();\r\n            this._chancel.stop();\r\n            this._chancel = null;\r\n            this._paused = false;\r\n            this._playing = false;\r\n            Laya.SoundManager.removeChannel(this._chancel);\r\n            Laya.SoundManager.destroySound(this._auidoUrl);\r\n            loop.clear(this, this._update);\r\n        }\r\n    }\r\n\r\n    public destroy() {\r\n        this.stop();\r\n        this._onComplete = null;\r\n        this._onProgress = null;\r\n        this._onPlay = null;\r\n        this._onStop = null;\r\n        this._onPause = null;\r\n    }\r\n\r\n}\r\n\r\nlet _musicAudio = new AudioController('music')\r\n\r\nfunction playMusic(url: string, loops: number = 1) {\r\n    _musicAudio.url = url;\r\n    _musicAudio.play(loops);\r\n    return _musicAudio;\r\n}\r\n\r\nfunction playSound(url: string, loops: number = 1) {\r\n    let audio = new AudioController('sound');\r\n    audio.url = url;\r\n    audio.play(loops);\r\n    return audio;\r\n}\r\n\r\nfunction stopMusic() {\r\n    _musicAudio.stop();\r\n}\r\n\r\nfunction stopAll() {\r\n    Laya.SoundManager.stopAll();\r\n}\r\n\r\nfunction stopAllSound() {\r\n    Laya.SoundManager.stopAllSound();\r\n}\r\n\r\nexport default {\r\n    playMusic,\r\n    playSound,\r\n    stopAll,\r\n    stopMusic,\r\n    stopAllSound,\r\n}","function removeItem(array, where) {\r\n    if (typeof where === 'function') {\r\n        let removeIndexArray = []\r\n        array.forEach((value, index) => {\r\n            if (where(value)) {\r\n                removeIndexArray.push(index)\r\n            }\r\n        })\r\n        removeIndexArray.reverse()\r\n        removeIndexArray.forEach(index => {\r\n            array.splice(index, 1);\r\n        })\r\n    }\r\n}\r\n\r\nclass Looper {\r\n\r\n    private _tasks = [];\r\n    private _hasLoop = false;\r\n\r\n    private _checkLoop() {\r\n        if (this._tasks.length > 0) {\r\n            if (!this._hasLoop) {\r\n                Laya.timer.frameLoop(1, this, () => {\r\n                    this._tasks.forEach(task => {\r\n                        let { caller, callback } = task;\r\n                        callback.apply(caller);\r\n                    });\r\n                });\r\n                this._hasLoop = true;\r\n            }\r\n        } else {\r\n            if (this._hasLoop) {\r\n                Laya.timer.clearAll(this);\r\n                this._hasLoop = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    public loop(caller: Object, callback: () => void) {\r\n        let filterTasks = this._tasks.filter((task) => {\r\n            return task.caller == caller && task.callback == callback;\r\n        })\r\n        if (filterTasks.length == 0) {\r\n            this._tasks.push({\r\n                caller,\r\n                callback,\r\n            });\r\n            this._checkLoop();\r\n        }\r\n    }\r\n\r\n    public clear(caller: Object, callback: () => void) {\r\n        removeItem(this._tasks, (task) => {\r\n            return task.caller == caller && (!callback || task.callback == callback);\r\n        });\r\n        this._checkLoop();\r\n    }\r\n\r\n}\r\n\r\nexport default new Looper;","import env from \"../utils/env\";\r\nimport { fbAd } from \"./platform/fb/ad\";\r\nimport { qqAd } from \"./platform/qq/ad\";\r\nimport { wxAd } from \"./platform/wx/ad\";\r\nimport bdAd from \"./platform/bd/ad\";\r\nimport { brAd } from \"./platform/br/ad\";\r\n\r\nfunction _get() {\r\n    if (env.isFacebookApp()) {\r\n        return fbAd;\r\n    } else if (env.isQQApp()) {\r\n        return qqAd;\r\n    } else if (env.isWechatApp()) {\r\n        return wxAd;\r\n    } else if (env.isBaiduApp()) {\r\n        return bdAd;\r\n    } else {\r\n        return brAd;\r\n    }\r\n}\r\n\r\nexport default _get();","import env, { FACEBOOK } from \"../../../utils/env\";\r\nimport { IAd } from \"../interfaces\";\r\n\r\nclass FBAd implements IAd {\r\n\r\n    private _rewardedAdId = '';\r\n    private _rewardedVideoAd = null;\r\n    private _preloadRewardedVideo = false;\r\n\r\n    public isSupportedRewardedVideoAd() {\r\n        return true;\r\n    }\r\n\r\n    public isPreloadRewardedVideoAd() {\r\n        return this._preloadRewardedVideo;\r\n    }\r\n\r\n    public configRewardedVideoAd(platform: string, adId: string) {\r\n        if (platform == FACEBOOK) {\r\n            this._rewardedAdId = adId;\r\n        }\r\n    }\r\n\r\n    public watchRewardedVideoAd(onWatch?: () => void, _onCancal?: () => void, onError?: (error: any) => void) {\r\n        env.execFB('getRewardedVideoAsync', this._rewardedAdId).then((ad) => {\r\n            this._rewardedVideoAd = ad;\r\n            return this._rewardedVideoAd.loadAsync();\r\n        }).catch((err) => {\r\n            onError && onError(err.message || 'load rewarded video fail');\r\n            throw err;\r\n        }).then(() => {\r\n            return this._rewardedVideoAd.showAsync().then(() => {\r\n                onWatch && onWatch();\r\n            }).catch((err) => {\r\n                onError && onError(err.message || 'show rewarded video fail');\r\n            });\r\n        });\r\n    }\r\n\r\n    public isSupportedBannerAd() {\r\n        return false;\r\n    }\r\n\r\n    public configBannerAd(platform: string, adId: string) {\r\n        // do nothing\r\n    }\r\n\r\n    public showBannerAd(x: number, y: number, width: number, height: number, onError?: (error: any) => void) {\r\n        onError && onError('not support banner ad')\r\n    }\r\n\r\n    public hideBannerAd() {\r\n        // do nothing\r\n    }\r\n\r\n}\r\n\r\nexport const fbAd = new FBAd;","import { IAd } from \"../interfaces\";\r\n\r\nclass QQAd implements IAd {\r\n\r\n    private _preloadRewardedVideo = false;\r\n\r\n    public isSupportedRewardedVideoAd() {\r\n        return false;\r\n    }\r\n\r\n    public isPreloadRewardedVideoAd(){\r\n        return this._preloadRewardedVideo;\r\n    }\r\n\r\n    public configRewardedVideoAd(platform: string, adId: string) {\r\n    }\r\n\r\n    public watchRewardedVideoAd(onWatch?: () => void, onCancal?: () => void, onError?: (error: any) => void) {\r\n        onError && onError('not support rewardedVideo ad')\r\n    }\r\n\r\n    public isSupportedBannerAd() {\r\n        return false;\r\n    }\r\n\r\n    public configBannerAd(platform: string, adId: string) {\r\n        // do nothing\r\n    }\r\n\r\n    public showBannerAd(x: number, y: number, w: number, h: number, onError?: (error: any) => void) {\r\n        onError && onError('not support banner ad')\r\n    }\r\n\r\n    public hideBannerAd() {\r\n        // do nothing\r\n    }\r\n\r\n}\r\n\r\nexport const qqAd = new QQAd;","import env, { WECHAT } from \"../../../utils/env\";\r\nimport screen from \"../../manager/screen\";\r\nimport { IAd } from \"../interfaces\";\r\nimport { fixWidth, fixHeight } from \"./_size\";\r\n\r\nclass WXAd implements IAd {\r\n\r\n    private _bannerAdId = '';\r\n    private _bannerAd = null;\r\n    private _rewardedAdId = '';\r\n    private _rewardedVideoAd = null;\r\n    private _rewardedVideoOnClose = null;\r\n    private _rewardedVideoOnError = null;\r\n    private _preloadRewardedVideo = false;\r\n    private _emptyOnError = () => { };\r\n\r\n    public isSupportedRewardedVideoAd() {\r\n        return true;\r\n    }\r\n\r\n    public isPreloadRewardedVideoAd() {\r\n        return this._preloadRewardedVideo;\r\n    }\r\n\r\n    public configRewardedVideoAd(platform: string, adId: string) {\r\n        if (platform == WECHAT) {\r\n            this._rewardedAdId = adId;\r\n            this._rewardedVideoAd = env.execWX('createRewardedVideoAd', {\r\n                adUnitId: this._rewardedAdId\r\n            });\r\n            if (this._rewardedVideoAd) {\r\n                try {\r\n                    this._rewardedVideoAd.offError(this._emptyOnError);\r\n                } catch (error) {\r\n                }\r\n                this._rewardedVideoAd.onError(this._emptyOnError);\r\n                this._rewardedVideoAd.load().then(() => { this._preloadRewardedVideo = true; });\r\n            }\r\n        }\r\n    }\r\n\r\n    public watchRewardedVideoAd(onWatch?: () => void, onCancal?: () => void, onError?: (error: any) => void) {\r\n        if (this._rewardedVideoAd) {\r\n            try {\r\n                this._rewardedVideoOnClose && this._rewardedVideoAd.offClose(this._rewardedVideoOnClose);\r\n            } catch (error) {\r\n            }\r\n            try {\r\n                this._rewardedVideoOnError && this._rewardedVideoAd.offError(this._rewardedVideoOnError);\r\n            } catch (error) {\r\n            }\r\n            this._rewardedVideoOnClose = (res) => {\r\n                if (res && res.isEnded || res === undefined) {\r\n                    onWatch && onWatch();\r\n                } else {\r\n                    onCancal && onCancal();\r\n                }\r\n                this._rewardedVideoAd.load().then(() => { this._preloadRewardedVideo = true; });\r\n            }\r\n            this._rewardedVideoOnError = (err) => {\r\n                onError && onError(err && err.errMsg || 'watchRewardedVideoAd:fail');\r\n            }\r\n            this._rewardedVideoAd.onClose(this._rewardedVideoOnClose);\r\n            this._rewardedVideoAd.onError(this._rewardedVideoOnError);\r\n            this._rewardedVideoAd.show().then(() => { this._preloadRewardedVideo = false; }).catch(() => {\r\n                this._rewardedVideoAd.load().then(() => this._rewardedVideoAd.show()).catch(() => { });\r\n            });\r\n        } else {\r\n            onError && onError('createRewardedVideoAd:fail')\r\n        }\r\n    }\r\n\r\n    public isSupportedBannerAd() {\r\n        return true;\r\n    }\r\n\r\n    public configBannerAd(platform: string, adId: string) {\r\n        if (platform == WECHAT) {\r\n            this._bannerAdId = adId;\r\n        }\r\n    }\r\n\r\n    public showBannerAd(x: number, y: number, width: number, height: number, onError?: (error: any) => void) {\r\n        try {\r\n            this.hideBannerAd();\r\n            let realLeft = fixWidth(x + screen.getOffestX());\r\n            let realTop = fixHeight(y + screen.getOffestY());\r\n            let realWidth = fixWidth(width);\r\n            let realHeight = fixHeight(height);\r\n            if (realWidth < 300) {\r\n                realWidth = 300;\r\n            }\r\n            this._bannerAd = env.execWX('createBannerAd', {\r\n                adUnitId: this._bannerAdId,\r\n                style: {\r\n                    left: realLeft,\r\n                    top: realTop,\r\n                    width: realWidth,\r\n                    height: realHeight\r\n                }\r\n            });\r\n            if (this._bannerAd) {\r\n                this._bannerAd.style.left = realLeft;\r\n                this._bannerAd.style.top = realTop;\r\n                this._bannerAd.style.width = realWidth;\r\n                this._bannerAd.style.height = realHeight;\r\n                this._bannerAd.onResize(res => {\r\n                    if (this._bannerAd) {\r\n                        let configZ = realWidth / realHeight;\r\n                        let newZ = res.width / res.height;\r\n                        let newL = realLeft;\r\n                        let newT = realTop;\r\n                        let newW = realWidth;\r\n                        let newH = realHeight;\r\n                        if (configZ < newZ) {\r\n                            newH = realWidth / newZ;\r\n                        } else {\r\n                            newW = realHeight * newZ;\r\n                        }\r\n                        if (newW < 300) {\r\n                            newW = 300;\r\n                        }\r\n                        newL = realLeft + ((realWidth - newW) / 2);\r\n                        this._bannerAd.style.left = newL;\r\n                        this._bannerAd.style.top = newT;\r\n                        this._bannerAd.style.width = newW;\r\n                        this._bannerAd.style.height = newH;\r\n                    }\r\n                });\r\n                this._bannerAd.onError(err => {\r\n                    onError && onError(err && err.errMsg || 'showBannerAd:fail');\r\n                });\r\n                this._bannerAd.show();\r\n            } else {\r\n                onError && onError('createBannerAd:fail')\r\n            }\r\n        } catch (error) {\r\n            onError && onError('showBannerAd:fail')\r\n        }\r\n    }\r\n\r\n    public hideBannerAd() {\r\n        try {\r\n            if (this._bannerAd && this._bannerAd.destroy) {\r\n                this._bannerAd.destroy();\r\n            }\r\n            this._bannerAd = null;\r\n        } catch (error) {\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport const wxAd = new WXAd;\r\n","import env, { WECHAT } from \"../../../utils/env\";\r\nimport screen from \"../../manager/screen\";\r\nimport { IAd } from \"../interfaces\";\r\nimport { fixWidth, fixHeight } from \"./_size\";\r\n\r\nclass Ad implements IAd {\r\n\r\n    private _bannerAdId = '';\r\n    private _bannerAd = null;\r\n    private _rewardedAdId = '';\r\n    private _rewardedVideoAd = null;\r\n    private _rewardedVideoOnClose = null;\r\n    private _rewardedVideoOnError = null;\r\n    private _preloadRewardedVideo = false;\r\n    private _emptyOnError = () => { };\r\n\r\n    public isSupportedRewardedVideoAd() {\r\n        return true;\r\n    }\r\n\r\n    public isPreloadRewardedVideoAd() {\r\n        return this._preloadRewardedVideo;\r\n    }\r\n\r\n    public configRewardedVideoAd(platform: string, adId: string) {\r\n        if (platform == WECHAT) {\r\n            this._rewardedAdId = adId;\r\n            this._rewardedVideoAd = env.execBD('createRewardedVideoAd', {\r\n                adUnitId: this._rewardedAdId\r\n            });\r\n            if (this._rewardedVideoAd) {\r\n                try {\r\n                    this._rewardedVideoAd.offError(this._emptyOnError);\r\n                } catch (error) {\r\n                }\r\n                this._rewardedVideoAd.onError(this._emptyOnError);\r\n                this._rewardedVideoAd.load().then(() => { this._preloadRewardedVideo = true; });\r\n            }\r\n        }\r\n    }\r\n\r\n    public watchRewardedVideoAd(onWatch?: () => void, onCancal?: () => void, onError?: (error: any) => void) {\r\n        if (this._rewardedVideoAd) {\r\n            try {\r\n                this._rewardedVideoOnClose && this._rewardedVideoAd.offClose(this._rewardedVideoOnClose);\r\n            } catch (error) {\r\n            }\r\n            try {\r\n                this._rewardedVideoOnError && this._rewardedVideoAd.offError(this._rewardedVideoOnError);\r\n            } catch (error) {\r\n            }\r\n            this._rewardedVideoOnClose = (res) => {\r\n                if (res && res.isEnded || res === undefined) {\r\n                    onWatch && onWatch();\r\n                } else {\r\n                    onCancal && onCancal();\r\n                }\r\n                this._rewardedVideoAd.load().then(() => { this._preloadRewardedVideo = true; });\r\n            }\r\n            this._rewardedVideoOnError = (err) => {\r\n                onError && onError(err && err.errMsg || 'watchRewardedVideoAd:fail');\r\n            }\r\n            this._rewardedVideoAd.onClose(this._rewardedVideoOnClose);\r\n            this._rewardedVideoAd.onError(this._rewardedVideoOnError);\r\n            this._rewardedVideoAd.show().then(() => { this._preloadRewardedVideo = false; }).catch(() => {\r\n                this._rewardedVideoAd.load().then(() => this._rewardedVideoAd.show()).catch(() => { });\r\n            });\r\n        } else {\r\n            onError && onError('createRewardedVideoAd:fail')\r\n        }\r\n    }\r\n\r\n    public isSupportedBannerAd() {\r\n        return true;\r\n    }\r\n\r\n    public configBannerAd(platform: string, adId: string) {\r\n        if (platform == WECHAT) {\r\n            this._bannerAdId = adId;\r\n        }\r\n    }\r\n\r\n    public showBannerAd(x: number, y: number, width: number, height: number, onError?: (error: any) => void) {\r\n        try {\r\n            this.hideBannerAd();\r\n            let realLeft = fixWidth(x + screen.getOffestX());\r\n            let realTop = fixHeight(y + screen.getOffestY());\r\n            let realWidth = fixWidth(width);\r\n            let realHeight = fixHeight(height);\r\n            if (realWidth < 300) {\r\n                realWidth = 300;\r\n            }\r\n            this._bannerAd = env.execBD('createBannerAd', {\r\n                adUnitId: this._bannerAdId,\r\n                style: {\r\n                    left: realLeft,\r\n                    top: realTop,\r\n                    width: realWidth,\r\n                    height: realHeight\r\n                }\r\n            });\r\n            if (this._bannerAd) {\r\n                this._bannerAd.style.left = realLeft;\r\n                this._bannerAd.style.top = realTop;\r\n                this._bannerAd.style.width = realWidth;\r\n                this._bannerAd.style.height = realHeight;\r\n                this._bannerAd.onResize(res => {\r\n                    if (this._bannerAd) {\r\n                        let configZ = realWidth / realHeight;\r\n                        let newZ = res.width / res.height;\r\n                        let newL = realLeft;\r\n                        let newT = realTop;\r\n                        let newW = realWidth;\r\n                        let newH = realHeight;\r\n                        if (configZ < newZ) {\r\n                            newH = realWidth / newZ;\r\n                        } else {\r\n                            newW = realHeight * newZ;\r\n                        }\r\n                        if (newW < 300) {\r\n                            newW = 300;\r\n                        }\r\n                        newL = realLeft + ((realWidth - newW) / 2);\r\n                        this._bannerAd.style.left = newL;\r\n                        this._bannerAd.style.top = newT;\r\n                        this._bannerAd.style.width = newW;\r\n                        this._bannerAd.style.height = newH;\r\n                    }\r\n                });\r\n                this._bannerAd.onError(err => {\r\n                    onError && onError(err && err.errMsg || 'showBannerAd:fail');\r\n                });\r\n                this._bannerAd.show();\r\n            } else {\r\n                onError && onError('createBannerAd:fail')\r\n            }\r\n        } catch (error) {\r\n            onError && onError('showBannerAd:fail')\r\n        }\r\n    }\r\n\r\n    public hideBannerAd() {\r\n        try {\r\n            if (this._bannerAd && this._bannerAd.destroy) {\r\n                this._bannerAd.destroy();\r\n            }\r\n            this._bannerAd = null;\r\n        } catch (error) {\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default new Ad;\r\n","import env from \"../../../utils/env\";\r\nimport screen from \"../../manager/screen\";\r\n\r\nexport function fixWidth(width) {\r\n    let systemInfo = env.execBD('getSystemInfoSync');\r\n    if (systemInfo) {\r\n        let windowWidth = systemInfo.windowWidth;\r\n        let stageWidth = screen.getWidth();\r\n        return width * windowWidth / stageWidth;\r\n    }\r\n    return width;\r\n}\r\n\r\nexport function fixHeight(height) {\r\n    let systemInfo = env.execBD('getSystemInfoSync');\r\n    if (systemInfo) {\r\n        let windowHeight = systemInfo.windowHeight;\r\n        let stageHeight = screen.getHeight();\r\n        return height * windowHeight / stageHeight;\r\n    }\r\n    return height;\r\n}","import { IAd } from \"../interfaces\";\r\n\r\nclass BrAd implements IAd {\r\n    \r\n    private _preloadRewardedVideo = false;\r\n\r\n    public isSupportedRewardedVideoAd() {\r\n        return false;\r\n    }\r\n\r\n    public isPreloadRewardedVideoAd(){\r\n        return this._preloadRewardedVideo;\r\n    }\r\n\r\n    public configRewardedVideoAd(platform: string, adId: string) {\r\n    }\r\n\r\n    public watchRewardedVideoAd(onWatch?: () => void, onCancal?: () => void, onError?: (error: any) => void) {\r\n        onError && onError('not support rewardedVideo ad')\r\n    }\r\n\r\n    public isSupportedBannerAd() {\r\n        return false;\r\n    }\r\n\r\n    public configBannerAd(platform: string, adId: string) {\r\n        // do nothing\r\n    }\r\n\r\n    public showBannerAd(x: number, y: number, w: number, h: number, onError?: (error: any) => void) {\r\n        onError && onError('not support banner ad')\r\n    }\r\n\r\n    public hideBannerAd() {\r\n        // do nothing\r\n    }\r\n\r\n}\r\n\r\nexport const brAd = new BrAd;","import env from \"../utils/env\";\r\nimport { fbApp } from \"./platform/fb/app\";\r\nimport { qqApp } from \"./platform/qq/app\";\r\nimport { wxApp } from \"./platform/wx/app\";\r\nimport bdApp from \"./platform/bd/app\";\r\nimport { brApp } from \"./platform/br/app\";\r\n\r\nfunction _get() {\r\n    if (env.isFacebookApp()) {\r\n        return fbApp;\r\n    } else if (env.isQQApp()) {\r\n        return qqApp;\r\n    } else if (env.isWechatApp()) {\r\n        return wxApp;\r\n    } else if (env.isBaiduApp()) {\r\n        return bdApp;\r\n    } else {\r\n        return brApp;\r\n    }\r\n}\r\n\r\nexport default _get();\r\n","import env, { FACEBOOK } from \"../../../utils/env\";\r\nimport { IApp } from \"../interfaces\";\r\n\r\nclass FBApp implements IApp {\r\n\r\n    private _launchCallback = null;\r\n    private _pauseCallback = null;\r\n\r\n    constructor() {\r\n        if (!env.isFacebookApp()) {\r\n            return;\r\n        }\r\n        this._init();\r\n    }\r\n\r\n    private _init() {\r\n        env.execFB('onPause', () => {\r\n            this._pauseCallback && this._pauseCallback();\r\n        });\r\n        env.execFB('setSessionData', { message: 'start game' })\r\n        env.execFB('player.canSubscribeBotAsync').then(can_subscribe => {\r\n            if (can_subscribe) {\r\n                env.execFB('player.subscribeBotAsync');\r\n                env.printDebug('can subscribe bot');\r\n            } else {\r\n                env.printDebug('not can subscribe bot');\r\n            }\r\n        });\r\n    }\r\n\r\n    private _checkOnLaunch() {\r\n        env.execFB('getEntryPointAsync').then(scene => {\r\n            let query = env.execFB('getEntryPointData') || {};\r\n            this._launchCallback && this._launchCallback({ scene: `${scene}`, query, platform: FACEBOOK });\r\n        });\r\n    }\r\n\r\n    public onLaunch(callback: (data: object) => void) {\r\n        this._launchCallback = callback;\r\n        this._checkOnLaunch();\r\n    }\r\n\r\n    public onPause(callback: () => void) {\r\n        this._pauseCallback = callback;\r\n    }\r\n\r\n    public getUserInfo(callback: (userinfo) => void) {\r\n        callback && callback({\r\n            platform: FACEBOOK,\r\n            nickname: env.execFB('player.getName'),\r\n            avatarUrl: env.execFB('player.getPhoto'),\r\n            city: '-',\r\n            country: '-',\r\n            province: '-',\r\n            gender: 0,\r\n            language: env.execFB('getLocale'),\r\n            raw: null,\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport const fbApp = new FBApp;","import env, { QQ } from \"../../../utils/env\";\r\nimport { IApp } from \"../interfaces\";\r\nimport { getEnterSceneForQQ, getEnterDataForQQ } from \"./_data\";\r\n\r\nclass QQApp implements IApp {\r\n\r\n    private _pauseCallback = null;\r\n    private _launchCallback = null;\r\n\r\n    constructor() {\r\n        if (!env.isQQApp()) {\r\n            return;\r\n        }\r\n        this._init();\r\n    }\r\n\r\n    private _init() {\r\n        env.execQQ('onEnterForeground', () => {\r\n            this._launchCallback && this._launchCallback({ scene: getEnterSceneForQQ(), query: getEnterDataForQQ(), platform: QQ });\r\n        });\r\n        env.execQQ('onEnterBackground', () => {\r\n            this._pauseCallback && this._pauseCallback();\r\n        });\r\n    }\r\n\r\n    private _checkOnLaunch() {\r\n        this._launchCallback && this._launchCallback({ scene: getEnterSceneForQQ(), query: getEnterDataForQQ(), platform: QQ });\r\n    }\r\n\r\n    public onLaunch(callback: (data: object) => void) {\r\n        this._launchCallback = callback;\r\n        this._checkOnLaunch();\r\n    }\r\n\r\n    public onPause(callback: () => void) {\r\n        this._pauseCallback = callback;\r\n    }\r\n\r\n    public getUserInfo(callback: (userinfo) => void) {\r\n        callback && callback({\r\n            platform: QQ,\r\n            nickname: '-',\r\n            avatarUrl: '-',\r\n            city: '-',\r\n            country: '-',\r\n            province: '-',\r\n            gender: 0,\r\n            language: '-',\r\n            raw: null,\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport const qqApp = new QQApp;","export function getEnterSceneForQQ() {\r\n    return 'other';\r\n}\r\n\r\nexport function getEnterDataForQQ() {\r\n    return {};\r\n}","import env, { WECHAT } from \"../../../utils/env\";\r\nimport { IApp } from \"../interfaces\";\r\n\r\nclass WXApp implements IApp {\r\n\r\n    private _pauseCallback = null;\r\n    private _launchCallback = null;\r\n    private _userinfoButton = null;\r\n\r\n    constructor() {\r\n        if (!env.isWechatApp()) {\r\n            return;\r\n        }\r\n        this._init();\r\n    }\r\n\r\n    private _init() {\r\n        env.execWX('onHide', () => {\r\n            this._pauseCallback && this._pauseCallback();\r\n        });\r\n        env.execWX('onShow', (options) => {\r\n            this._launchCallback && this._launchCallback({ scene: `${options.scene || ''}`, query: options.query || {}, platform: WECHAT });\r\n        });\r\n    }\r\n\r\n    public onLaunch(callback: (data: object) => void) {\r\n        this._launchCallback = callback;\r\n        this._checkOnLaunch();\r\n    }\r\n\r\n    private _checkOnLaunch() {\r\n        let options = env.execWX('getLaunchOptionsSync') || {};\r\n        this._launchCallback && this._launchCallback({ entry: options.scene || 1000, query: options.query || {}, platform: WECHAT });\r\n    }\r\n\r\n    public onPause(callback: () => void) {\r\n        this._pauseCallback = callback;\r\n    }\r\n\r\n    public getUserInfo(callback: (userinfo) => void, imageUrl = null) {\r\n        let onHandler = (res) => {\r\n            if (res && res.userInfo) {\r\n                callback && callback({\r\n                    platform: WECHAT,\r\n                    avatarUrl: res.userInfo.avatarUrl,\r\n                    nickname: res.userInfo.nickName,\r\n                    city: res.userInfo.city,\r\n                    country: res.userInfo.country,\r\n                    province: res.userInfo.province,\r\n                    gender: res.userInfo.gender,\r\n                    language: res.userInfo.language,\r\n                    raw: res\r\n                });\r\n            } else {\r\n                callback && callback(null);\r\n            }\r\n        }\r\n        let onHide = () => {\r\n            if (this._userinfoButton) {\r\n                this._userinfoButton.style.left = -this._userinfoButton.style.width;\r\n                this._userinfoButton.style.top = -this._userinfoButton.style.height;\r\n                this._userinfoButton.hide();\r\n                this._userinfoButton.destroy();\r\n                this._userinfoButton = null;\r\n            }\r\n        }\r\n        let onFail = () => {\r\n            let systemInfo = env.execWX('getSystemInfoSync');\r\n            if (!systemInfo) {\r\n                onHandler(null);\r\n                return;\r\n            }\r\n            onHide();\r\n            if (!this._userinfoButton) {\r\n                this._userinfoButton = env.execWX('createUserInfoButton', {\r\n                    withCredentials: true,\r\n                    type: 'image',\r\n                    image: imageUrl || 'default_login.png',\r\n                    style: {\r\n                        left: 0,\r\n                        top: 0,\r\n                        width: systemInfo.windowWidth,\r\n                        height: systemInfo.windowHeight,\r\n                    }\r\n                });\r\n            }\r\n            if (this._userinfoButton) {\r\n                this._userinfoButton.onTap((res) => {\r\n                    if (res.errMsg.indexOf(':ok') >= 0) {\r\n                        onHide();\r\n                        onHandler(res);\r\n                    }\r\n                });\r\n                this._userinfoButton.show();\r\n            }\r\n        }\r\n        env.execWX('getUserInfo', {\r\n            withCredentials: true,\r\n            success: onHandler,\r\n            fail: onFail\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport const wxApp = new WXApp;","import env, { BAIDU } from \"../../../utils/env\";\r\nimport { IApp } from \"../interfaces\";\r\n\r\nclass App implements IApp {\r\n\r\n    private _pauseCallback = null;\r\n    private _launchCallback = null;\r\n    private _userinfoButton = null;\r\n\r\n    constructor() {\r\n        if (!env.isWechatApp()) {\r\n            return;\r\n        }\r\n        this._init();\r\n    }\r\n\r\n    private _init() {\r\n        env.execBD('onHide', () => {\r\n            this._pauseCallback && this._pauseCallback();\r\n        });\r\n        env.execBD('onShow', (options) => {\r\n            this._launchCallback && this._launchCallback({ scene: `${options.scene || ''}`, query: options.query || {}, platform: BAIDU });\r\n        });\r\n    }\r\n\r\n    public onLaunch(callback: (data: object) => void) {\r\n        this._launchCallback = callback;\r\n        this._checkOnLaunch();\r\n    }\r\n\r\n    private _checkOnLaunch() {\r\n        let options = env.execBD('getLaunchOptionsSync') || {};\r\n        this._launchCallback && this._launchCallback({ entry: options.scene || 1000, query: options.query || {}, platform: BAIDU });\r\n    }\r\n\r\n    public onPause(callback: () => void) {\r\n        this._pauseCallback = callback;\r\n    }\r\n\r\n    public getUserInfo(callback: (userinfo) => void, imageUrl = null) {\r\n        let onHandler = (res) => {\r\n            if (res && res.userInfo) {\r\n                callback && callback({\r\n                    platform: BAIDU,\r\n                    avatarUrl: res.userInfo.avatarUrl,\r\n                    nickname: res.userInfo.nickName,\r\n                    city: res.userInfo.city,\r\n                    country: res.userInfo.country,\r\n                    province: res.userInfo.province,\r\n                    gender: res.userInfo.gender,\r\n                    language: res.userInfo.language,\r\n                    raw: res\r\n                });\r\n            } else {\r\n                callback && callback(null);\r\n            }\r\n        }\r\n        let onHide = () => {\r\n            if (this._userinfoButton) {\r\n                this._userinfoButton.style.left = -this._userinfoButton.style.width;\r\n                this._userinfoButton.style.top = -this._userinfoButton.style.height;\r\n                this._userinfoButton.hide();\r\n                this._userinfoButton.destroy();\r\n                this._userinfoButton = null;\r\n            }\r\n        }\r\n        let onFail = () => {\r\n            let systemInfo = env.execBD('getSystemInfoSync');\r\n            if (!systemInfo) {\r\n                onHandler(null);\r\n                return;\r\n            }\r\n            onHide();\r\n            if (!this._userinfoButton) {\r\n                this._userinfoButton = env.execBD('createUserInfoButton', {\r\n                    withCredentials: true,\r\n                    type: 'image',\r\n                    image: imageUrl || 'default_login.png',\r\n                    style: {\r\n                        left: 0,\r\n                        top: 0,\r\n                        width: systemInfo.windowWidth,\r\n                        height: systemInfo.windowHeight,\r\n                    }\r\n                });\r\n            }\r\n            if (this._userinfoButton) {\r\n                this._userinfoButton.onTap((res) => {\r\n                    if (res.errMsg.indexOf(':ok') >= 0) {\r\n                        onHide();\r\n                        onHandler(res);\r\n                    }\r\n                });\r\n                this._userinfoButton.show();\r\n            }\r\n        }\r\n        env.execBD('getUserInfo', {\r\n            withCredentials: true,\r\n            success: onHandler,\r\n            fail: onFail\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport default new App;","import env, { BROWSER } from \"../../../utils/env\";\r\nimport { IApp } from \"../interfaces\";\r\nimport { getEnterSceneForBR, getEnterDataForBR } from \"./_data\";\r\n\r\nclass BrApp implements IApp {\r\n\r\n    private _pauseCallback = null;\r\n    private _launchCallback = null;\r\n\r\n    constructor() {\r\n        if (!env.isBrowserApp()) {\r\n            return;\r\n        }\r\n        this._init();\r\n    }\r\n\r\n    private _init() {\r\n        window.onblur = () => {\r\n            this._pauseCallback && this._pauseCallback();\r\n        }\r\n    }\r\n\r\n    private _checkOnLaunch() {\r\n        this._launchCallback && this._launchCallback({ scene: getEnterSceneForBR(), query: getEnterDataForBR(), platform: BROWSER });\r\n    }\r\n\r\n    public onLaunch(callback: (data: object) => void) {\r\n        this._launchCallback = callback;\r\n        this._checkOnLaunch();\r\n    }\r\n\r\n    public onPause(callback: () => void) {\r\n        this._pauseCallback = callback;\r\n    }\r\n\r\n    public getUserInfo(callback: (userinfo) => void) {\r\n        callback && callback({\r\n            platform: BROWSER,\r\n            nickname: '-',\r\n            avatarUrl: '-',\r\n            city: '-',\r\n            country: '-',\r\n            province: '-',\r\n            gender: 0,\r\n            language: '-',\r\n            raw: null,\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport const brApp = new BrApp;","function _getQueryParams() {\r\n    var queryStr = window.location.search.substring(1);\r\n    let query = {};\r\n    var vars = queryStr.split(\"&\");\r\n    for (var i = 0; i < vars.length; i++) {\r\n        var pair = vars[i].split(\"=\");\r\n        if (pair.length > 1) {\r\n            query[pair[0]] = decodeURIComponent(pair[1]);\r\n        }\r\n    }\r\n    return query;\r\n}\r\n\r\nexport function getEnterSceneForBR() {\r\n    return 'other';\r\n}\r\n\r\nexport function getEnterDataForBR() {\r\n    return {};\r\n}","import env from \"../utils/env\";\r\nimport { fbRank } from \"./platform/fb/rank\";\r\nimport { qqRank } from \"./platform/qq/rank\";\r\nimport { wxRank } from \"./platform/wx/rank\";\r\nimport { brRank } from \"./platform/br/rank\";\r\nimport bdRank from \"./platform/bd/rank\";\r\n\r\nfunction _get() {\r\n    if (env.isFacebookApp()) {\r\n        return fbRank;\r\n    } else if (env.isQQApp()) {\r\n        return qqRank;\r\n    } else if (env.isWechatApp()) {\r\n        return wxRank;\r\n    } else if (env.isBaiduApp()) {\r\n        return bdRank;\r\n    } else {\r\n        return brRank;\r\n    }\r\n}\r\n\r\nexport default _get();\r\n","import screen from \"../../manager/screen\";\r\nimport { IRank } from \"../interfaces\";\r\nimport { bindView } from \"../../../utils/bind\";\r\nimport { fetchRankDataForFB, setRankScoreForFB } from \"./_rank\";\r\n\r\nclass FBRank implements IRank {\r\n\r\n    private _rankKey: string = null;\r\n    private _rankUi: object | object[] = null;\r\n    private _rankViews: Laya.Sprite[] = [];\r\n    private _rankData = {};\r\n    private _canDraw = true;\r\n    private _count = 100;\r\n    private _offset = 0;\r\n    private _delayObj = null;\r\n\r\n    private _drawRankView() {\r\n        if (!this._rankUi) {\r\n            return;\r\n        }\r\n        let isDestroyeds = [];\r\n        this._rankViews.forEach((rankView, index) => {\r\n            if (!rankView._destroyed) {\r\n                rankView.destroyChildren();\r\n                if (this._rankUi instanceof Array) {\r\n                    this._rankUi.forEach((data) => {\r\n                        var view = Laya.View.createComp(data);\r\n                        if (view) {\r\n                            bindView(view, this._rankData);\r\n                            rankView.addChild(view);\r\n                        }\r\n                    });\r\n                } else {\r\n                    var view = Laya.View.createComp(this._rankUi);\r\n                    if (view) {\r\n                        bindView(view, this._rankData);\r\n                        rankView.addChild(view);\r\n                    }\r\n                }\r\n            } else {\r\n                isDestroyeds.unshift(index);\r\n            }\r\n        });\r\n        isDestroyeds.forEach(index => {\r\n            this._rankViews.splice(index, 1);\r\n        });\r\n    }\r\n\r\n    private _bindRankView() {\r\n        if (!this._rankKey) {\r\n            return;\r\n        }\r\n        if (!this._canDraw) {\r\n            return;\r\n        }\r\n        this._canDraw = false;\r\n        fetchRankDataForFB(this._rankKey, this._count, this._offset, (data) => {\r\n            this._rankData = data;\r\n            this._canDraw = true;\r\n            this._rankViews.forEach((rankView) => {\r\n                for (let index = 0; index < rankView.numChildren; index++) {\r\n                    const element = rankView.getChildAt(index);\r\n                    bindView(element, this._rankData);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    private _delayBindRankView() {\r\n        if (this._delayObj) {\r\n            return;\r\n        }\r\n        this._delayObj = setTimeout(() => {\r\n            this._delayObj = null;\r\n            this._bindRankView();\r\n        }, 200);\r\n    }\r\n\r\n    public isSupportedRank() {\r\n        return true;\r\n    }\r\n\r\n    public createRankView(x = 0, y = 0, width = screen.getWidth(), height = screen.getHeight()) {\r\n        var rankView = new Laya.Sprite();\r\n        rankView.scrollRect = new Laya.Rectangle(x, y, width, height);\r\n        this._rankViews.push(rankView);\r\n        this._drawRankView();\r\n        this._delayBindRankView();\r\n        return rankView;\r\n    }\r\n\r\n    public setRankKey(key: string, count: number = 100, offset: number = 0) {\r\n        this._rankKey = key;\r\n        this._count = count;\r\n        this._offset = offset;\r\n        this._delayBindRankView();\r\n    }\r\n\r\n    public setRankScore(key: string, score: number, extraData?: string) {\r\n        setRankScoreForFB(key, score, extraData, () => {\r\n            this._delayBindRankView();\r\n        });\r\n    }\r\n\r\n    public showRank(ui: object | object[]) {\r\n        if (!this._rankUi || JSON.stringify(ui) !== JSON.stringify(this._rankUi)) {\r\n            this._rankUi = ui;\r\n            this._drawRankView();\r\n        }\r\n        this._delayBindRankView();\r\n    }\r\n\r\n    public hideRank() {\r\n        this._rankUi = null;\r\n        this._rankViews.forEach(rankView => {\r\n            rankView.destroyChildren();\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport const fbRank = new FBRank;","import env from \"../../../utils/env\";\r\n\r\nexport function fetchRankDataForFB(key, count, offset, cb) {\r\n    let getLeaderboardAsync = env.execFB('getLeaderboardAsync', key);\r\n    if (getLeaderboardAsync && getLeaderboardAsync.then) {\r\n        getLeaderboardAsync.then((leaderboard) => {\r\n            return leaderboard.getConnectedPlayerEntriesAsync(count, offset);\r\n        }).then(entries => {\r\n            try {\r\n                let selfInfo = {\r\n                    playerId: env.execFB('player.getID'),\r\n                    nickname: env.execFB('player.getName'),\r\n                    avatarUrl: env.execFB('player.getPhoto'),\r\n                };\r\n                let selfIndex = -1;\r\n                let selfData = {};\r\n                let rankSelf = null;\r\n                let rankThree = [];\r\n                let rankList = entries.map((entry, index) => {\r\n                    let item = {\r\n                        rank: entry.getRank(),\r\n                        score: entry.getScore(),\r\n                        timestamp: entry.getTimestamp(),\r\n                        extraData: entry.getExtraData(),\r\n                        playerId: entry.getPlayer().getID(),\r\n                        nickname: entry.getPlayer().getName(),\r\n                        avatarUrl: entry.getPlayer().getPhoto(),\r\n                    }\r\n                    let self = item.playerId == selfInfo.playerId;\r\n                    if (self) {\r\n                        rankSelf = item;\r\n                        selfIndex = index;\r\n                        selfData = {\r\n                            score: item.score,\r\n                            extraData: item.extraData\r\n                        }\r\n                    }\r\n                    Object.assign(item, { self });\r\n                    return item;\r\n                });\r\n                if (selfIndex <= 0) {\r\n                    rankThree = rankList.slice(0, 3);\r\n                } else {\r\n                    rankThree = rankList.slice(selfIndex - 1, selfIndex + 1);\r\n                }\r\n                cb && cb({ selfInfo, selfData, rankList, rankSelf, rankThree });\r\n            } catch (error) {\r\n                cb && cb({});\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport function setRankScoreForFB(key: string, score: number, extraData: string = null, callback = null) {\r\n    let getLeaderboardAsync = env.execFB('getLeaderboardAsync', key);\r\n    if (getLeaderboardAsync && getLeaderboardAsync.then) {\r\n        getLeaderboardAsync.then(function (leaderboard) {\r\n            return leaderboard.setScoreAsync(score, extraData);\r\n        }).then((res) => {\r\n            if (key == this._rankKey && res.getScore() == score) {\r\n                callback && callback();\r\n            }\r\n        });\r\n    }\r\n}","import screen from \"../../manager/screen\";\r\nimport { IRank } from \"../interfaces\";\r\nimport { bindView } from \"../../../utils/bind\";\r\nimport { fetchRankDataForQQ, setRankScoreForQQ } from \"./_rank\";\r\n\r\nclass QQRank implements IRank {\r\n\r\n    private _rankKey: string = null;\r\n    private _rankUi: object | object[] = null;\r\n    private _rankViews: Laya.Sprite[] = [];\r\n    private _rankData = {};\r\n    private _canDraw = true;\r\n    private _count = 100;\r\n    private _offset = 0;\r\n    private _delayObj = null;\r\n\r\n    private _drawRankView() {\r\n        if (!this._rankUi) {\r\n            return;\r\n        }\r\n        let isDestroyeds = [];\r\n        this._rankViews.forEach((rankView, index) => {\r\n            if (!rankView._destroyed) {\r\n                rankView.destroyChildren();\r\n                if (this._rankUi instanceof Array) {\r\n                    this._rankUi.forEach((data) => {\r\n                        var view = Laya.View.createComp(data);\r\n                        if (view) {\r\n                            bindView(view, this._rankData);\r\n                            rankView.addChild(view);\r\n                        }\r\n                    });\r\n                } else {\r\n                    var view = Laya.View.createComp(this._rankUi);\r\n                    if (view) {\r\n                        bindView(view, this._rankData);\r\n                        rankView.addChild(view);\r\n                    }\r\n                }\r\n            } else {\r\n                isDestroyeds.unshift(index);\r\n            }\r\n        });\r\n        isDestroyeds.forEach(index => {\r\n            this._rankViews.splice(index, 1);\r\n        });\r\n    }\r\n\r\n    private _bindRankView() {\r\n        if (!this._rankKey) {\r\n            return;\r\n        }\r\n        if (!this._canDraw) {\r\n            return;\r\n        }\r\n        this._canDraw = false;\r\n        fetchRankDataForQQ(this._rankKey, this._count, this._offset, (data) => {\r\n            this._rankData = data;\r\n            this._canDraw = true;\r\n            this._rankViews.forEach((rankView) => {\r\n                for (let index = 0; index < rankView.numChildren; index++) {\r\n                    const element = rankView.getChildAt(index);\r\n                    bindView(element, this._rankData);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    private _delayBindRankView() {\r\n        if (this._delayObj) {\r\n            return;\r\n        }\r\n        this._delayObj = setTimeout(() => {\r\n            this._delayObj = null;\r\n            this._bindRankView();\r\n        }, 200);\r\n    }\r\n\r\n    public isSupportedRank() {\r\n        return true;\r\n    }\r\n\r\n    public createRankView(x = 0, y = 0, width = screen.getWidth(), height = screen.getHeight()) {\r\n        var rankView = new Laya.Sprite();\r\n        rankView.scrollRect = new Laya.Rectangle(x, y, width, height);\r\n        this._rankViews.push(rankView);\r\n        this._drawRankView();\r\n        this._delayBindRankView();\r\n        return rankView;\r\n    }\r\n\r\n    public setRankKey(key: string, count: number = 100, offset: number = 0) {\r\n        this._rankKey = key;\r\n        this._count = count;\r\n        this._offset = offset;\r\n        this._delayBindRankView();\r\n    }\r\n\r\n    public setRankScore(key: string, score: number, extraData?: string) {\r\n        setRankScoreForQQ(key, score, extraData, () => {\r\n            this._delayBindRankView();\r\n        });\r\n    }\r\n\r\n    public showRank(ui: object | object[]) {\r\n        if (!this._rankUi || JSON.stringify(ui) !== JSON.stringify(this._rankUi)) {\r\n            this._rankUi = ui;\r\n            this._drawRankView();\r\n        }\r\n        this._delayBindRankView();\r\n    }\r\n\r\n    public hideRank() {\r\n        this._rankUi = null;\r\n        this._rankViews.forEach(rankView => {\r\n            rankView.destroyChildren();\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport const qqRank = new QQRank;","export function fetchRankDataForQQ(key, count, offset, cb) {\r\n    cb && cb({});\r\n}\r\n\r\nexport function setRankScoreForQQ(key: string, score: number, extraData: string = null, callback = null) {\r\n    callback && callback();\r\n}","import env from \"../../../utils/env\";\r\nimport screen from \"../../manager/screen\";\r\nimport { IRank } from \"../interfaces\";\r\n\r\nclass WXRank implements IRank {\r\n\r\n    public isSupportedRank() {\r\n        return true;\r\n    }\r\n\r\n    public createRankView(x = 0, y = 0, width = screen.getDesignWidth(), height = screen.getDesignHeight()) {\r\n        var sharedCanvasView = new Laya.Sprite();\r\n        sharedCanvasView.scrollRect = new Laya.Rectangle(x, y, width, height);\r\n        if (window.hasOwnProperty('sharedCanvas')) {\r\n            var sharedCanvas = window['sharedCanvas'];\r\n            sharedCanvas.width = Laya.stage.width;\r\n            sharedCanvas.height = Laya.stage.height;\r\n            if (!sharedCanvas.hasOwnProperty('_addReference')) {\r\n                sharedCanvas['_addReference'] = () => {\r\n                };\r\n            }\r\n            var rankTexture = new Laya.Texture(sharedCanvas);\r\n            rankTexture.bitmap.alwaysChange = true;\r\n            var rankSprite = new Laya.Sprite();\r\n            rankSprite.x -= screen.getOffestX();\r\n            rankSprite.y -= screen.getOffestY();\r\n            rankSprite.width = Laya.stage.width;\r\n            rankSprite.height = Laya.stage.height;\r\n            rankSprite.graphics.drawTexture(rankTexture, 0, 0, rankTexture.width, rankTexture.height);\r\n            sharedCanvasView.addChild(rankSprite);\r\n        }\r\n        return sharedCanvasView;\r\n    }\r\n\r\n    public setRankKey(key: string, count: number = 100, offset: number = 0) {\r\n        env.postMessageToWXOpenDataContext({\r\n            action: \"setRankKey\",\r\n            data: { key, count, offset }\r\n        });\r\n    }\r\n\r\n    public setRankScore(key: string, score: number, extraData: string = '') {\r\n        env.postMessageToWXOpenDataContext({\r\n            action: 'setRankScore',\r\n            data: { key, score, extraData }\r\n        });\r\n    }\r\n\r\n    public showRank(ui: object | object[]) {\r\n        env.postMessageToWXOpenDataContext({\r\n            action: \"showRank\",\r\n            data: { ui }\r\n        });\r\n    }\r\n\r\n    public hideRank() {\r\n        env.postMessageToWXOpenDataContext({\r\n            action: 'hideRank',\r\n            data: {}\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport const wxRank = new WXRank;","import screen from \"../../manager/screen\";\r\nimport { IRank } from \"../interfaces\";\r\nimport { bindView } from \"../../../utils/bind\";\r\nimport { fetchRankDataForBR, setRankScoreForBR } from \"./_rank\";\r\n\r\nclass BRRank implements IRank {\r\n\r\n    private _rankKey: string = null;\r\n    private _rankUi: object | object[] = null;\r\n    private _rankViews: Laya.Sprite[] = [];\r\n    private _rankData = {};\r\n    private _canDraw = true;\r\n    private _count = 100;\r\n    private _offset = 0;\r\n    private _delayObj = null;\r\n\r\n    private _drawRankView() {\r\n        if (!this._rankUi) {\r\n            return;\r\n        }\r\n        let isDestroyeds = [];\r\n        this._rankViews.forEach((rankView, index) => {\r\n            if (!rankView._destroyed) {\r\n                rankView.destroyChildren();\r\n                if (this._rankUi instanceof Array) {\r\n                    this._rankUi.forEach((data) => {\r\n                        var view = Laya.View.createComp(data);\r\n                        if (view) {\r\n                            bindView(view, this._rankData);\r\n                            rankView.addChild(view);\r\n                        }\r\n                    });\r\n                } else {\r\n                    var view = Laya.View.createComp(this._rankUi);\r\n                    if (view) {\r\n                        bindView(view, this._rankData);\r\n                        rankView.addChild(view);\r\n                    }\r\n                }\r\n            } else {\r\n                isDestroyeds.unshift(index);\r\n            }\r\n        });\r\n        isDestroyeds.forEach(index => {\r\n            this._rankViews.splice(index, 1);\r\n        });\r\n    }\r\n\r\n    private _bindRankView() {\r\n        if (!this._rankKey) {\r\n            return;\r\n        }\r\n        if (!this._canDraw) {\r\n            return;\r\n        }\r\n        this._canDraw = false;\r\n        fetchRankDataForBR(this._rankKey, this._count, this._offset, (data) => {\r\n            this._rankData = data;\r\n            this._canDraw = true;\r\n            this._rankViews.forEach((rankView) => {\r\n                for (let index = 0; index < rankView.numChildren; index++) {\r\n                    const element = rankView.getChildAt(index);\r\n                    bindView(element, this._rankData);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    private _delayBindRankView() {\r\n        if (this._delayObj) {\r\n            return;\r\n        }\r\n        this._delayObj = setTimeout(() => {\r\n            this._delayObj = null;\r\n            this._bindRankView();\r\n        }, 200);\r\n    }\r\n\r\n    public isSupportedRank() {\r\n        return true;\r\n    }\r\n\r\n    public createRankView(x = 0, y = 0, width = screen.getWidth(), height = screen.getHeight()) {\r\n        var rankView = new Laya.Sprite();\r\n        rankView.scrollRect = new Laya.Rectangle(x, y, width, height);\r\n        this._rankViews.push(rankView);\r\n        this._drawRankView();\r\n        this._delayBindRankView();\r\n        return rankView;\r\n    }\r\n\r\n    public setRankKey(key: string, count: number = 100, offset: number = 0) {\r\n        this._rankKey = key;\r\n        this._count = count;\r\n        this._offset = offset;\r\n        this._delayBindRankView();\r\n    }\r\n\r\n    public setRankScore(key: string, score: number, extraData?: string) {\r\n        setRankScoreForBR(key, score, extraData, () => {\r\n            this._delayBindRankView();\r\n        });\r\n    }\r\n\r\n    public showRank(ui: object | object[]) {\r\n        if (!this._rankUi || JSON.stringify(ui) !== JSON.stringify(this._rankUi)) {\r\n            this._rankUi = ui;\r\n            this._drawRankView();\r\n        }\r\n        this._delayBindRankView();\r\n    }\r\n\r\n    public hideRank() {\r\n        this._rankUi = null;\r\n        this._rankViews.forEach(rankView => {\r\n            rankView.destroyChildren();\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport const brRank = new BRRank;","export function fetchRankDataForBR(key, count, offset, cb) {\r\n    cb && cb({});\r\n}\r\n\r\nexport function setRankScoreForBR(key: string, score: number, extraData: string = null, callback = null) {\r\n    callback && callback();\r\n}","import env from \"../../../utils/env\";\r\nimport screen from \"../../manager/screen\";\r\nimport { IRank } from \"../interfaces\";\r\n\r\nclass Rank implements IRank {\r\n\r\n    public isSupportedRank() {\r\n        return true;\r\n    }\r\n\r\n    public createRankView(x = 0, y = 0, width = screen.getDesignWidth(), height = screen.getDesignHeight()) {\r\n        var sharedCanvasView = new Laya.Sprite();\r\n        sharedCanvasView.scrollRect = new Laya.Rectangle(x, y, width, height);\r\n        if (window.hasOwnProperty('sharedCanvas')) {\r\n            var sharedCanvas = window['sharedCanvas'];\r\n            sharedCanvas.width = Laya.stage.width;\r\n            sharedCanvas.height = Laya.stage.height;\r\n            if (!sharedCanvas.hasOwnProperty('_addReference')) {\r\n                sharedCanvas['_addReference'] = () => {\r\n                };\r\n            }\r\n            var rankTexture = new Laya.Texture(sharedCanvas);\r\n            rankTexture.bitmap.alwaysChange = true;\r\n            var rankSprite = new Laya.Sprite();\r\n            rankSprite.x -= screen.getOffestX();\r\n            rankSprite.y -= screen.getOffestY();\r\n            rankSprite.width = Laya.stage.width;\r\n            rankSprite.height = Laya.stage.height;\r\n            rankSprite.graphics.drawTexture(rankTexture, 0, 0, rankTexture.width, rankTexture.height);\r\n            sharedCanvasView.addChild(rankSprite);\r\n        }\r\n        return sharedCanvasView;\r\n    }\r\n\r\n    public setRankKey(key: string, count: number = 100, offset: number = 0) {\r\n        env.postMessageToBDOpenDataContext({\r\n            action: \"setRankKey\",\r\n            data: { key, count, offset }\r\n        });\r\n    }\r\n\r\n    public setRankScore(key: string, score: number, extraData: string = '') {\r\n        env.postMessageToBDOpenDataContext({\r\n            action: 'setRankScore',\r\n            data: { key, score, extraData }\r\n        });\r\n    }\r\n\r\n    public showRank(ui: object | object[]) {\r\n        env.postMessageToBDOpenDataContext({\r\n            action: \"showRank\",\r\n            data: { ui }\r\n        });\r\n    }\r\n\r\n    public hideRank() {\r\n        env.postMessageToBDOpenDataContext({\r\n            action: 'hideRank',\r\n            data: {}\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport default new Rank;","import env from \"../utils/env\";\r\nimport screen from \"./manager/screen\";\r\nimport { fixWidth, fixHeight } from \"./platform/wx/_size\";\r\n\r\nlet _clubButton = null;\r\n\r\nfunction isSupportClubButton() {\r\n    if (env.isWechatApp()) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nfunction showClubButton(icon: string, x: number, y: number, w: number, h: number) {\r\n    if (!env.isWechatApp()) {\r\n        return;\r\n    }\r\n    try {\r\n        let left = fixWidth(x + screen.getOffestX());\r\n        let top = fixHeight(y + screen.getOffestY());\r\n        let width = fixWidth(w);\r\n        let height = fixHeight(h);\r\n        let icons = ['green', 'white', 'dark', 'light'];\r\n        hideClubButton();\r\n        if (!_clubButton) {\r\n            _clubButton = env.execWX('createGameClubButton', {\r\n                icon: icons.indexOf(icon) < 0 ? icons[0] : icon,\r\n                style: {\r\n                    left,\r\n                    top,\r\n                    width,\r\n                    height\r\n                }\r\n            });\r\n            if (_clubButton && icons.indexOf(icon) < 0) {\r\n                _clubButton.image = icon;\r\n            }\r\n        }\r\n        if (_clubButton) {\r\n            _clubButton.style.left = left;\r\n            _clubButton.style.top = top;\r\n            _clubButton.style.width = width;\r\n            _clubButton.style.height = height;\r\n            _clubButton.show();\r\n        }\r\n    } catch (error) {\r\n    }\r\n}\r\n\r\nfunction hideClubButton() {\r\n    if (!env.isWechatApp()) {\r\n        return;\r\n    }\r\n    try {\r\n        if (_clubButton) {\r\n            _clubButton.style.left = -_clubButton.style.width;\r\n            _clubButton.style.top = -_clubButton.style.height;\r\n            _clubButton.hide();\r\n            _clubButton.destroy();\r\n            _clubButton = null;\r\n        }\r\n    } catch (error) {\r\n    }\r\n}\r\n\r\nfunction isSupportKefuConversation() {\r\n    if (env.isWechatApp()) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nfunction openKefuConversation(options = null) {\r\n    if (env.isWechatApp()) {\r\n        env.execWX('openCustomerServiceConversation', options);\r\n    }\r\n}\r\n\r\n\r\nexport default {\r\n    isSupportKefuConversation,\r\n    openKefuConversation,\r\n    isSupportClubButton,\r\n    showClubButton,\r\n    hideClubButton,\r\n}","function randomUUID() {\r\n    let _s4 = () => (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n    return (_s4() + _s4() + \"-\" + _s4() + \"-\" + _s4() + \"-\" + _s4() + \"-\" + _s4() + _s4() + _s4());\r\n}\r\n\r\nfunction randomNumber(minNum: number, maxNum: number) {\r\n    switch (arguments.length) {\r\n        case 1:\r\n            return Math.random() * minNum + 1;\r\n        case 2:\r\n            return Math.random() * (maxNum - minNum + 1) + minNum;\r\n        default:\r\n            return 0;\r\n    }\r\n}\r\n\r\nfunction randomInteger(minNum: number, maxNum: number) {\r\n    switch (arguments.length) {\r\n        case 1:\r\n            return Math.floor(Math.random() * minNum + 1);\r\n        case 2:\r\n            return Math.floor(Math.random() * (maxNum - minNum + 1) + minNum);\r\n        default:\r\n            return 0;\r\n    }\r\n}\r\n\r\nfunction randomArray(source: any[], length: number = -1): Array<any> {\r\n    let randomLength = length == -1 ? source.length : length;\r\n    randomLength = Math.min(randomLength, source.length);\r\n    var copy: Array<any> = source.concat([]);\r\n    var result: Array<any> = [];\r\n    while (result.length < randomLength) {\r\n        let randomObj = randomArrayItem(copy);\r\n        result.push(randomObj);\r\n        copy.splice(copy.indexOf(randomLength), 1);\r\n    }\r\n    return result;\r\n}\r\n\r\nfunction randomArrayItem(source: any[]): any {\r\n    if (source.length > 0) {\r\n        return source[Math.floor(Math.random() * source.length)];\r\n    }\r\n    return undefined;\r\n}\r\n\r\nfunction tryToObject(source) {\r\n    if (typeof source === 'object') {\r\n        return source;\r\n    }\r\n    try {\r\n        return JSON.parse(source);\r\n    } catch (error) {\r\n        return source;\r\n    }\r\n}\r\n\r\nfunction anyToArray(source: any) {\r\n    if (source === null || source === '' || source === undefined) {\r\n        return [];\r\n    }\r\n    let value = tryToObject(source);\r\n    if (typeof value === 'string') {\r\n        return value.split(',');\r\n    }\r\n    if (value instanceof Array) {\r\n        return value;\r\n    } else {\r\n        return [value]\r\n    }\r\n}\r\n\r\nexport default {\r\n    randomUUID,\r\n    randomInteger,\r\n    randomNumber,\r\n    randomArray,\r\n    randomArrayItem,\r\n    anyToArray,\r\n    tryToObject,\r\n}","import NavStack from \"../navigator/stack\";\r\nimport ui from \"./ui\";\r\nimport screen from \"../manager/screen\";\r\n\r\nexport default class Activity extends ui {\r\n\r\n    static open(params, action) {\r\n        NavStack.navigate(this, params, action);\r\n    }\r\n\r\n    static finish() {\r\n        NavStack.finish(this);\r\n    }\r\n\r\n    static res = [];\r\n    static num = 0;\r\n    static single = false;\r\n\r\n    public page = null;\r\n    public params = {};\r\n    public duration = 0;\r\n    public easeIn = null;\r\n    public easeOut = null;\r\n    public fromProps = null;\r\n    public toProps = null;\r\n\r\n    public onFocus?(focus): void;\r\n    public onCreate?(): void;\r\n    public onResume?(): void;\r\n    public onPause?(): void;\r\n    public onDestroy?(): void;\r\n    public onNextProgress?(progress): void;\r\n\r\n    constructor(options) {\r\n        super(() => { this.back(); });\r\n        this.width = screen.getDesignWidth();\r\n        this.height = screen.getDesignHeight();\r\n        this.params = Object.assign({}, options.params || {});\r\n        this.page = options.page;\r\n    }\r\n\r\n    //////////////////////////\r\n    /// navigator function\r\n    //////////////////////////\r\n\r\n    redirectTo(page, params = {}, action = null, single = false) {\r\n        this.navigate(page, params, () => {\r\n            this.back();\r\n            action && action();\r\n        }, single);\r\n    }\r\n\r\n    navigate(page, params = {}, action = null, single = false) {\r\n        NavStack.navigate(page, params, action, single);\r\n    }\r\n\r\n    back() {\r\n        NavStack.finish(this.page, this);\r\n    }\r\n\r\n    finish(page = this.page, instance = null) {\r\n        NavStack.finish(page, instance);\r\n    }\r\n\r\n    pop(number = 1) {\r\n        NavStack.pop(number);\r\n    }\r\n\r\n    popToTop() {\r\n        NavStack.popToTop();\r\n    }\r\n\r\n}","import env from \"../utils/env\";\r\nimport { fbInit } from \"./platform/fb/init\";\r\nimport { qqInit } from \"./platform/qq/init\";\r\nimport { wxInit } from \"./platform/wx/init\";\r\nimport bdInit from \"./platform/bd/init\";\r\nimport { brInit } from \"./platform/br/init\";\r\n\r\nimport { initScreen } from \"./manager/screen\";\r\nimport { initNavigator } from \"./navigator/init\";\r\n\r\nlet _inited = false;\r\n\r\nfunction _get() {\r\n    if (env.isFacebookApp()) {\r\n        return fbInit;\r\n    } else if (env.isQQApp()) {\r\n        return qqInit;\r\n    } else if (env.isWechatApp()) {\r\n        return wxInit;\r\n    } else if (env.isBaiduApp()) {\r\n        return bdInit;\r\n    } else {\r\n        return brInit;\r\n    }\r\n}\r\n\r\nexport function init(width: number, height: number, ...options) {\r\n    if (_inited) {\r\n        return;\r\n    }\r\n    if (!env.isLayaApp()) {\r\n        env.printError('Please ensure that the \\'Laya\\' library has been introduced.');\r\n        return;\r\n    }\r\n    if (env.isQQApp()) {\r\n        env.execQQ('Script.loadlib', 'GameRes://layaforqq/laya.bkadpter.js')\r\n    }\r\n    env.printDebug(`init...`);\r\n    env.printDebug(`tape version: ${env.getVersion()}`);\r\n    env.printDebug(`app version: ${env.getAppVersion()}`);\r\n    env.printDebug(`platform: ${env.getPlatform()}`);\r\n    if (env.isWechatApp()) {\r\n        Laya.MiniAdpter.init(true);\r\n    }\r\n    if (env.isBaiduApp()) {\r\n        Laya.BMiniAdapter.init(true);\r\n    }\r\n    initScreen(false, width, height, ...options);\r\n    _inited = true;\r\n}\r\n\r\nexport function init3D(width: number, height: number, ...options) {\r\n    if (_inited) {\r\n        return;\r\n    }\r\n    if (!env.isLayaApp()) {\r\n        env.printError('Please ensure that the \\'Laya\\' library has been introduced.');\r\n        return;\r\n    }\r\n    if (env.isQQApp()) {\r\n        env.execQQ('Script.loadlib', 'GameRes://layaforqq/laya.bkadpter.js')\r\n    }\r\n    env.printDebug(`init3D...`);\r\n    env.printDebug(`tape version: ${env.getVersion()}`);\r\n    env.printDebug(`app version: ${env.getAppVersion()}`);\r\n    env.printDebug(`platform: ${env.getPlatform()}`);\r\n    if (env.isWechatApp()) {\r\n        Laya.MiniAdpter.init(true);\r\n    }\r\n    initScreen(true, width, height, ...options);\r\n    _inited = true;\r\n}\r\n\r\nexport function start(options, onLoaded = null) {\r\n    if (!_inited) {\r\n        env.printError('Please perform \\'Tape.init\\' initialization first.');\r\n        return;\r\n    }\r\n    if (!options) {\r\n        options = {};\r\n    }\r\n    let newOptions = {\r\n        mainPage: options.mainPage || null,\r\n        commonRes: options.commonRes || [],\r\n        fileVersion: options.fileVersion,\r\n        onLoadProgress: (progress) => {\r\n            _get().onLoadProgress(progress);\r\n            options.onLoadProgress && options.onLoadProgress(progress);\r\n        },\r\n        onLoaded: () => {\r\n            _get().onLoaded();\r\n            onLoaded && onLoaded();\r\n            options.onLoaded && options.onLoaded();\r\n        }\r\n    }\r\n    let onStart = () => {\r\n        initNavigator(newOptions);\r\n    }\r\n    _get().start(onStart);\r\n}\r\n\r\nexport function exit() {\r\n    _get().exit();\r\n}","import env from \"../../../utils/env\";\r\nimport { IInit } from \"../interfaces\";\r\nimport { setNavigatorReady } from \"../../navigator/init\";\r\n\r\nlet _isLoaded = false;\r\nlet _percentage = 0;\r\n\r\nfunction runMockLoading() {\r\n    if (_isLoaded) {\r\n        return;\r\n    }\r\n    _percentage += 1;\r\n    if (_percentage > 99) {\r\n        _percentage = 99;\r\n    } else {\r\n        setTimeout(runMockLoading, 50);\r\n    }\r\n    env.execFB('setLoadingProgress', _percentage);\r\n}\r\n\r\nclass FBInit implements IInit {\r\n\r\n    public start(callback: () => void) {\r\n        runMockLoading();\r\n        env.execFB('initializeAsync').then(() => {\r\n            callback && callback();\r\n        });\r\n    }\r\n\r\n    public exit() {\r\n        env.execFB('setSessionData', { message: 'quit game' })\r\n        env.execFB('quit');\r\n    }\r\n\r\n    public onLoaded() {\r\n        _isLoaded = true;\r\n        env.execFB('setLoadingProgress', 100);\r\n        env.execFB('startGameAsync').then(() => {\r\n            setNavigatorReady();\r\n        });\r\n    }\r\n\r\n    public onLoadProgress(progress) {\r\n    }\r\n\r\n}\r\n\r\nexport const fbInit = new FBInit;","import { IInit } from \"../interfaces\";\r\nimport { setNavigatorReady } from \"../../navigator/init\";\r\n\r\nclass QQInit implements IInit {\r\n\r\n    public start(callback: () => void) {\r\n        callback && callback();\r\n    }\r\n\r\n    public exit() {\r\n    }\r\n\r\n    public onLoaded() {\r\n        setNavigatorReady();\r\n    }\r\n\r\n    public onLoadProgress(progress) {\r\n    }\r\n\r\n}\r\n\r\nexport const qqInit = new QQInit;","import env from \"../../../utils/env\";\r\nimport screen from \"../../manager/screen\";\r\nimport { IInit } from \"../interfaces\";\r\nimport { setNavigatorReady } from \"../../navigator/init\";\r\n\r\nclass WXInit implements IInit {\r\n\r\n    start(callback: () => void) {\r\n        if (window.hasOwnProperty('sharedCanvas')) {\r\n            var sharedCanvas = window['sharedCanvas'];\r\n            sharedCanvas.width = screen.getWidth();\r\n            sharedCanvas.height = screen.getHeight();\r\n        }\r\n        callback && callback();\r\n    }\r\n\r\n    exit() {\r\n        env.execWX('exitMiniProgram');\r\n    }\r\n\r\n    onLoaded() {\r\n        setNavigatorReady();\r\n        env.postMessageToWXOpenDataContext({\r\n            action: \"initRank\",\r\n            data: {\r\n                width: screen.getWidth(),\r\n                height: screen.getHeight(),\r\n                offsetX: screen.getOffestX(),\r\n                offsetY: screen.getOffestY(),\r\n                designWidth: screen.getDesignWidth(),\r\n                designHeight: screen.getDesignHeight(),\r\n            }\r\n        });\r\n    }\r\n\r\n    public onLoadProgress(progress) {\r\n    }\r\n\r\n}\r\n\r\nexport const wxInit = new WXInit;","import env from \"../../../utils/env\";\r\nimport screen from \"../../manager/screen\";\r\nimport { IInit } from \"../interfaces\";\r\nimport { setNavigatorReady } from \"../../navigator/init\";\r\n\r\nclass Init implements IInit {\r\n\r\n    start(callback: () => void) {\r\n        if (window.hasOwnProperty('sharedCanvas')) {\r\n            var sharedCanvas = window['sharedCanvas'];\r\n            sharedCanvas.width = screen.getWidth();\r\n            sharedCanvas.height = screen.getHeight();\r\n        }\r\n        callback && callback();\r\n    }\r\n\r\n    exit() {\r\n        env.execBD('exitMiniProgram');\r\n    }\r\n\r\n    onLoaded() {\r\n        setNavigatorReady();\r\n        env.postMessageToBDOpenDataContext({\r\n            action: \"initRank\",\r\n            data: {\r\n                width: screen.getWidth(),\r\n                height: screen.getHeight(),\r\n                offsetX: screen.getOffestX(),\r\n                offsetY: screen.getOffestY(),\r\n                designWidth: screen.getDesignWidth(),\r\n                designHeight: screen.getDesignHeight(),\r\n            }\r\n        });\r\n    }\r\n\r\n    public onLoadProgress(progress) {\r\n    }\r\n\r\n}\r\n\r\nexport default new Init","import { IInit } from \"../interfaces\";\r\nimport { setNavigatorReady } from \"../../navigator/init\";\r\n\r\nclass BrInit implements IInit {\r\n\r\n    public start(callback: () => void) {\r\n        callback && callback();\r\n    }\r\n\r\n    public exit() {\r\n        try {\r\n            if (window && window['conch'] && typeof window['conch']['exit'] == 'function') {\r\n                window['conch']['exit']();\r\n            }\r\n        } catch (error) {\r\n        }\r\n    }\r\n\r\n    public onLoaded() {\r\n        setNavigatorReady();\r\n    }\r\n\r\n    public onLoadProgress(progress) {\r\n    }\r\n\r\n}\r\n\r\nexport const brInit = new BrInit;","import env from \"../utils/env\";\r\nimport comp_toast from \"./comps/comp_toast\";\r\nimport comp_modal from \"./comps/comp_modal\";\r\nimport comp_loading from \"./comps/comp_loading\";\r\nimport comp_vibrate from \"./comps/comp_vibrate\";\r\n\r\nexport function showLoading(params) {\r\n    if (env.isWechatApp()) {\r\n        return env.execWX('showLoading', params)\r\n    }\r\n    if (env.isBaiduApp()) {\r\n        return env.execBD('showLoading', params)\r\n    }\r\n    comp_loading.showLoading(params);\r\n    comp_toast.hideToast();\r\n}\r\n\r\nexport function hideLoading() {\r\n    if (env.isWechatApp()) {\r\n        return env.execWX('hideLoading')\r\n    }\r\n    if (env.isBaiduApp()) {\r\n        return env.execBD('hideLoading')\r\n    }\r\n    comp_loading.hideLoading();\r\n}\r\n\r\nexport function showToast(params) {\r\n    if (env.isWechatApp()) {\r\n        return env.execWX('showToast', params)\r\n    }\r\n    if (env.isBaiduApp()) {\r\n        return env.execBD('showToast', params)\r\n    }\r\n    comp_toast.showToast(params);\r\n    comp_loading.hideLoading();\r\n}\r\n\r\nexport function hideToast() {\r\n    if (env.isWechatApp()) {\r\n        return env.execWX('hideToast')\r\n    }\r\n    if (env.isBaiduApp()) {\r\n        return env.execBD('hideToast')\r\n    }\r\n    comp_toast.hideToast();\r\n}\r\n\r\nexport function showModal(params) {\r\n    if (env.isWechatApp()) {\r\n        return env.execWX('showModal', params)\r\n    }\r\n    if (env.isBaiduApp()) {\r\n        return env.execBD('showModal', params)\r\n    }\r\n    comp_modal.showModal(params)\r\n}\r\n\r\nexport function vibrateShort() {\r\n    if (env.isWechatApp()) {\r\n        return env.execWX('vibrateShort')\r\n    }\r\n    if (env.isBaiduApp()) {\r\n        return env.execBD('vibrateShort')\r\n    }\r\n    comp_vibrate.vibrateShort();\r\n}\r\n\r\nexport function vibrateLong() {\r\n    if (env.isWechatApp()) {\r\n        return env.execWX('vibrateLong')\r\n    }\r\n    if (env.isBaiduApp()) {\r\n        return env.execBD('vibrateLong')\r\n    }\r\n    comp_vibrate.vibrateLong();\r\n}","import ToastView from \"../display/toastview\";\r\nimport { TipsView } from \"../views/tips\";\r\n\r\nclass Toast extends ToastView {\r\n\r\n    ui = new TipsView;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onShow() {\r\n        this.duration = 0;\r\n        if (this.params.duration) {\r\n            this.displayDuration = this.params.duration;\r\n        }\r\n        if (this.displayDuration > 3000) {\r\n            this.displayDuration = 3000;\r\n        }\r\n        if (this.displayDuration < 500) {\r\n            this.displayDuration = 500;\r\n        }\r\n        this.nonPenetrating = this.params.mask === true;\r\n        this.ui.setContent(this.params.title || '', this.params.image || this.params.icon || 'success');\r\n        this.params.success && this.params.success();\r\n        this.params.complete && this.params.complete();\r\n    }\r\n\r\n}\r\n\r\nfunction showToast(params) {\r\n    Toast.hide();\r\n    Toast.show(params, null)\r\n}\r\n\r\nfunction hideToast() {\r\n    Toast.hide();\r\n}\r\n\r\nexport default {\r\n    showToast,\r\n    hideToast,\r\n}","const PNG_SUCCESS = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAFl0lEQVR4Xu2cPcseVRCG7+kMWmgQBD9Jk8JGLEQQbGxEEbTQQtBEFEUL/42FKCimEEurgBoT/LbNj7ANaUPUkdVdXF/f59k9Xztzdu63fXfOnDPXdebss8+HgH+hKyChV8/FgwIEl4ACUIDgFQi+fHYAChC8AsGXzw5AAYJXIPjy2QEoQPAKBF8+OwAFCF6B4MtnB6AAwSsQfPnsABQgeAWCL58dgAIEr0Dw5bMDUIDgFQi+fHYAChC8Ao6Xr6pnADwmIr+2miY7QKvKFo6rqncA+BbA4wCeE5HvCoc8NZwCtKhq4Zgz+E+NQ90C8GwLCShAIaza4afAn1I0kYAC1CZYMN4R+HMJXhCRKwVp/hNKAWpVsnCcFfCnDLcBPF9LAgpQCK5GeAL86hJQgBoEC8bIgF9VAgpQAK80tAD+XIKXRORy7lwoQG7lCuMqwJ9m8DuAF3MloACFIHPCK8IvloAC5BAsiGkAfy7BKyLyZcr0KEBKtQqvbQh/mtkfAF5OkYACFEJdG74B/CwJKMBaggXXje/qfQXg6YJhUkMfFJHfloIowFKFCv+/4c6fZvongNdF5PM1U6cAa6qUeY13+MOyKEAm3KWwHuBTgCWKmf/vBT4FyAR8LKwn+BSgsgC9wacAFQXoET4FqCRAr/ApQAUBeoZPAQoF6B0+BSgQYA/wKUCmAHuBTwEyBFDVOwF8DWD60kbGKEkhSc/2k0bmo+C0co3wrwF4Ii0y++qm8Jt3AFU9KyI3spfvKFBV7wIwfCHjyQ2ndVFELrXM1+zNIFW9H8APAC6LyPstF9F67D3u/KlmTQQY4f8M4JEx0Qe9SrBn+E2OAFV9GMD3M/iTbN1JsHf41QUY4Q87/4EDbbkbCSLAryrACvjddIIo8KsJoKrnxhu+Qzv/ZENw2wkiwa8iwAj/FwD3Jd6Nfywi7yTGNL08GvxiAQrgTyDdSBARfpEAqnp+vNtP3fknd7G5BFHhZwswwv8JwL2VerKZBJHhZwnQAL7ZcRAdfrIAqvoogOH36mrtfLPjgPD/Kf3qR8Ej/B8B3FOp7R8a5pKIXGyZg/D/re4qAVT1IQDXN4Df/DgwelfvDRH5rKXUuWOvEmAYXFWHBVzITZQRV70TGOx8BfDa2i9qZtSoOGS1AL1LYAT/LRH5tJhSwwGSBOhVAsI/bFCyAL1JQPjH20eWAL1IQPjLZ0e2AEYSfCEiry4v6++b1uHTu1t+gHO44XN/5p+sXZEAXiUg/DVbJPFB0LEhDV4iHuwEhL8eftKTwKVhPUhA+EuU/v//4iNgPqSlBISfDr9qB5jSW0gA4F0A32z4jZ1hucMN3yd5ZfcTVbUDzCT4CMDbGy7zJoC7N8y3C/hNOoBhJ9iCf5cv9Y4VpkkH2KkEu4PftAPsTIJdwt9EAKOHRTWPg93C30yAjiXYNfxNBehQgt3D31yAjiQIAd9EgA4kCAPfTADHEoSCbyqAQwnCwTcXwJEEIeG7EMCBBGHhuxHAUILQ8F0JYCBBePjuBNhQAsIfH5Y3fTcw94F84w+VEP4MjEsBGnYCwj+xK90K0EACwj+lJbsWoKIEhH/gPHYvQAUJCP/IzVgXAhRIQPgLd+LdCJAhAeGveBnWlQCJErzp/ccZVvBpfkl3AqyU4D0R+bB59XaQoEsBFiQg/AQxuxXggASEnwDf5XsBifOf/3oZ4acWL+WHIjPG3ixEVZ8RkaubJdxRoq6PgB1xMFsKBTArvY/EFMAHB7NZUACz0vtITAF8cDCbBQUwK72PxBTABwezWVAAs9L7SEwBfHAwmwUFMCu9j8QUwAcHs1lQALPS+0hMAXxwMJsFBTArvY/EFMAHB7NZUACz0vtITAF8cDCbBQUwK72PxBTABwezWVAAs9L7SEwBfHAwmwUFMCu9j8R/AbOgaJ/0NSjNAAAAAElFTkSuQmCC';\r\nconst PNG_LOADING = 'data:image/png;base64,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';\r\n\r\n\r\nexport class IconView extends Laya.Sprite {\r\n\r\n    private _image: Laya.Image;\r\n    private _angle = 0;\r\n\r\n    constructor() {\r\n        super();\r\n        this._image = new Laya.Image;\r\n        this.addChild(this._image);\r\n    }\r\n\r\n    public setSize(size) {\r\n        this.width = size;\r\n        this.height = size;\r\n        this.pivot(size / 2, size / 2);\r\n    }\r\n\r\n    public setIcon(icon) {\r\n        this._image.visible = true;\r\n        this._image.width = this.width;\r\n        this._image.height = this.height;\r\n        this._image.skin = this._getIconUrl(icon);\r\n        this._stop();\r\n        if (icon == 'loading') {\r\n            this._play();\r\n        }\r\n    }\r\n\r\n    private _play() {\r\n        this.timer.frameLoop(1, this, this._update);\r\n    }\r\n\r\n    private _stop() {\r\n        this.timer.clear(this, this._update);\r\n        this._angle = 0;\r\n        this.rotation = this._angle;\r\n    }\r\n\r\n    private _getIconUrl(icon) {\r\n        if (icon == 'loading') {\r\n            return PNG_LOADING;\r\n        } else if (icon == 'success') {\r\n            return PNG_SUCCESS;\r\n        } else {\r\n            return icon;\r\n        }\r\n    }\r\n\r\n    private _update() {\r\n        this._angle += 5;\r\n        if (this._angle >= 360) {\r\n            this._angle = this._angle - 360;\r\n        }\r\n        this.rotation = this._angle;\r\n    }\r\n\r\n}","import PopupView from \"../display/popupview\";\r\nimport { ModalContentView } from \"../views/modal\";\r\n\r\nclass Modal extends PopupView {\r\n\r\n    ui = new ModalContentView;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onShow() {\r\n        this.isTranslucent = false;\r\n        this.ui.setContent(\r\n            this.params.title,\r\n            this.params.content,\r\n            this.params.showCancel,\r\n            this.params.cancelText,\r\n            this.params.cancelColor,\r\n            this.params.confirmText,\r\n            this.params.confirmColor,\r\n            (res) => {\r\n                this.hide();\r\n                this.params.success && this.params.success(res);\r\n                this.params.complete && this.params.complete(res);\r\n            }\r\n        );\r\n    }\r\n\r\n}\r\n\r\nfunction showModal(params) {\r\n    Modal.show(params, null);\r\n}\r\n\r\nexport default {\r\n    showModal,\r\n}","import screen from \"../manager/screen\";\r\nimport { BgView } from \"./bg\";\r\n\r\nfunction _btnEffect(view: Laya.Label) {\r\n    view.offAll();\r\n    view.on(Laya.Event.MOUSE_DOWN, view, () => {\r\n        view.bgColor = '#dddddd';\r\n    });\r\n    view.on(Laya.Event.MOUSE_UP, view, () => {\r\n        view.bgColor = '#eeeeee';\r\n    });\r\n    view.on(Laya.Event.MOUSE_OUT, view, () => {\r\n        view.bgColor = '#eeeeee';\r\n    });\r\n}\r\n\r\nexport class ModalContentView extends Laya.Sprite {\r\n\r\n    private _maxW = 0;\r\n    private _padding = 0;\r\n    private _fontSize = 0;\r\n    private _radius = 0;\r\n    private _btnHeight = 0;\r\n    private _titleView = null;\r\n    private _contentView = null;\r\n    private _bgView = null;\r\n    private _btnsView = null;\r\n    private _cancelBtn = null;\r\n    private _confirmBtn = null;\r\n    private _lineView = null;\r\n    private _line2View = null;\r\n    private _lineHeight = 0;\r\n    private _callback = null;\r\n\r\n    constructor() {\r\n        super();\r\n        let size = Math.min(screen.getDesignWidth(), screen.getDesignHeight());\r\n        this._maxW = size * 0.9;\r\n        this._padding = size * 0.08;\r\n        this._fontSize = size * 0.06;\r\n        this._btnHeight = size * 0.18;\r\n        this._lineHeight = size * 0.005;\r\n        this._radius = 0;\r\n        this._initBg();\r\n        this._initTitle();\r\n        this._initContent();\r\n        this._initButton();\r\n    }\r\n\r\n    private _initBg() {\r\n        this._bgView = new BgView();\r\n        this._bgView.name = 'bg';\r\n        this._bgView.color = '#eeeeee';\r\n        this._bgView.radius = this._radius;\r\n        this.addChild(this._bgView);\r\n    }\r\n\r\n    private _initTitle() {\r\n        this._titleView = new Laya.Label()\r\n        this._titleView.align = Laya.Stage.ALIGN_CENTER;\r\n        this._titleView.valign = Laya.Stage.ALIGN_MIDDLE;\r\n        this._titleView.wordWrap = true;\r\n        this._titleView.name = 'title';\r\n        this._titleView.fontSize = this._fontSize + this._fontSize * 0.2;\r\n        this._titleView.color = '#333333';\r\n        this._titleView.x = this._padding;\r\n        this._titleView.y = this._padding;\r\n        this.addChild(this._titleView);\r\n    }\r\n\r\n    private _initContent() {\r\n        this._contentView = new Laya.Label()\r\n        this._contentView.align = Laya.Stage.ALIGN_CENTER;\r\n        this._contentView.valign = Laya.Stage.ALIGN_MIDDLE;\r\n        this._contentView.wordWrap = true;\r\n        this._contentView.name = 'content';\r\n        this._contentView.fontSize = this._fontSize;\r\n        this._contentView.color = '#666666';\r\n        this._contentView.x = this._padding;\r\n        this._contentView.y = this._padding;\r\n        this.addChild(this._contentView);\r\n    }\r\n\r\n    private _initButton() {\r\n        this._btnsView = new Laya.Label;\r\n        this._lineView = new Laya.Label;\r\n        this._lineView.bgColor = '#666666';\r\n        this._lineView.alpha = 0.2;\r\n        this._lineView.height = this._lineHeight;\r\n\r\n        this._line2View = new Laya.Label;\r\n        this._line2View.bgColor = '#666666';\r\n        this._line2View.alpha = 0.2;\r\n        this._line2View.height = this._btnHeight - this._lineHeight;\r\n        this._line2View.width = this._lineHeight;\r\n        this._line2View.y = this._lineHeight;\r\n\r\n        this._btnsView.height = this._btnHeight;\r\n\r\n        this._cancelBtn = new Laya.Label;\r\n        this._cancelBtn.align = Laya.Stage.ALIGN_CENTER;\r\n        this._cancelBtn.valign = Laya.Stage.ALIGN_MIDDLE;\r\n        this._cancelBtn.height = this._btnHeight;\r\n        this._cancelBtn.fontSize = this._fontSize;\r\n\r\n        this._confirmBtn = new Laya.Label;\r\n        this._confirmBtn.align = Laya.Stage.ALIGN_CENTER;\r\n        this._confirmBtn.valign = Laya.Stage.ALIGN_MIDDLE;\r\n        this._confirmBtn.height = this._btnHeight;\r\n        this._confirmBtn.fontSize = this._fontSize;\r\n\r\n        _btnEffect(this._cancelBtn);\r\n        _btnEffect(this._confirmBtn);\r\n\r\n        this._btnsView.addChild(this._cancelBtn);\r\n        this._btnsView.addChild(this._confirmBtn);\r\n        this._btnsView.addChild(this._lineView);\r\n        this._btnsView.addChild(this._line2View);\r\n\r\n        this._confirmBtn.on(Laya.Event.CLICK, this, () => {\r\n            this._callback && this._callback({\r\n                confirm: true,\r\n                cancel: false\r\n            })\r\n        })\r\n        this._cancelBtn.on(Laya.Event.CLICK, this, () => {\r\n            this._callback && this._callback({\r\n                confirm: false,\r\n                cancel: true\r\n            })\r\n        })\r\n        this.addChild(this._btnsView);\r\n    }\r\n\r\n    public setContent(title, content, showCancel = true, cancelText = '', cancelColor = '#000000', confirmText = '', confirmColor = '#3cc51f', callback = null) {\r\n\r\n        this._callback = callback;\r\n\r\n        this._cancelBtn.fontSize = this._fontSize;\r\n        this._cancelBtn.text = cancelText;\r\n        this._cancelBtn.color = cancelColor;\r\n\r\n        this._confirmBtn.fontSize = this._fontSize;\r\n        this._confirmBtn.text = confirmText;\r\n        this._confirmBtn.color = confirmColor;\r\n\r\n        this._titleView.width = this._maxW;\r\n        this._contentView.width = this._maxW;\r\n\r\n        if (title) {\r\n            this._titleView.height = undefined;\r\n            this._titleView.text = title;\r\n        } else {\r\n            this._titleView.height = 0;\r\n        }\r\n\r\n        if (content) {\r\n            this._contentView.height = undefined;\r\n            this._contentView.text = content;\r\n            this._contentView.y = this._titleView.y + this._titleView.height + this._padding / 2;\r\n        } else {\r\n            this._contentView.height = 0;\r\n            this._contentView.y = this._titleView.y + this._titleView.height;\r\n        }\r\n\r\n        this._btnsView.y = this._contentView.height + this._contentView.y + this._padding;\r\n\r\n        this._bgView.height = this._btnsView.height + this._btnsView.y;\r\n        this._bgView.width = this._titleView.width + 2 * this._padding;\r\n\r\n        this._lineView.width = this._bgView.width;\r\n        this._btnsView.width = this._bgView.width;\r\n\r\n        if (showCancel) {\r\n            this._line2View.visible = true;\r\n            this._cancelBtn.visible = true;\r\n            this._line2View.x = this._btnsView.width / 2;\r\n            this._cancelBtn.width = this._btnsView.width / 2;\r\n            this._confirmBtn.x = this._btnsView.width / 2;\r\n            this._confirmBtn.width = this._btnsView.width / 2;\r\n        } else {\r\n            this._line2View.visible = false;\r\n            this._cancelBtn.visible = false;\r\n            this._confirmBtn.x = 0;\r\n            this._confirmBtn.width = this._btnsView.width;\r\n        }\r\n\r\n        this._bgView.callDraw();\r\n        this.x = (screen.getDesignWidth() - this._bgView.width) / 2;\r\n        this.y = (screen.getDesignHeight() - this._bgView.height) / 2;\r\n\r\n    }\r\n\r\n}","import ToastView from \"../display/toastview\";\r\nimport { TipsView } from \"../views/tips\";\r\n\r\nclass Loading extends ToastView {\r\n\r\n    ui = new TipsView;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onShow() {\r\n        this.duration = 0;\r\n        this.displayDuration = -1;\r\n        this.isTranslucent = true;\r\n        this.nonPenetrating = this.params.mask === true;\r\n        this.ui.setContent(this.params.title, 'loading');\r\n        this.params.success && this.params.success();\r\n        this.params.complete && this.params.complete();\r\n    }\r\n\r\n}\r\n\r\nfunction showLoading(params) {\r\n    Loading.hide();\r\n    Loading.show(params, null);\r\n}\r\n\r\nfunction hideLoading() {\r\n    Loading.hide();\r\n}\r\n\r\nexport default {\r\n    showLoading,\r\n    hideLoading,\r\n}","function vibrateForH5(pattern) {\r\n    let vs = ['vibrate', 'webkitVibrate', 'webkitVibrate', 'mozVibrate', 'msVibrate'];\r\n    for (let index = 0; index < vs.length; index++) {\r\n        const element = vs[index];\r\n        if (window && window.navigator && window.navigator[element]) {\r\n            try {\r\n                return window.navigator[element](pattern);\r\n            } catch (error) {\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction vibrateShort() {\r\n    vibrateForH5([1000])\r\n}\r\n\r\nfunction vibrateLong() {\r\n    vibrateForH5([3000])\r\n}\r\n\r\nexport default {\r\n    vibrateLong,\r\n    vibrateShort,\r\n}","module runtime {\r\n\r\n    export let clickSound = null;\r\n    export let scaleTime: number = 100;\r\n    export let scaleSmalValue: number = 0.8;\r\n    export let scaleBigValue: number = 1;\r\n\r\n    function pivotCenter(view) {\r\n        view.x = view.x + view.width / 2 - view.pivotX;\r\n        view.y = view.y + view.height / 2 - view.pivotY;\r\n        view.pivot(view.width / 2, view.height / 2);\r\n    }\r\n\r\n    function viewScale(view, scale) {\r\n        pivotCenter(view);\r\n        Laya.Tween.to(view, { scaleX: scale, scaleY: scale }, scaleTime);\r\n    }\r\n\r\n    function playClickSound(sound) {\r\n        if (sound) {\r\n            Laya.SoundManager.playSound(sound, 1);\r\n        } else if (clickSound) {\r\n            Laya.SoundManager.playSound(clickSound, 1);\r\n        }\r\n    }\r\n\r\n    export function bindClick(view) {\r\n        view.offAll();\r\n        view.on(Laya.Event.MOUSE_DOWN, view, () => viewScale(view, scaleSmalValue));\r\n        view.on(Laya.Event.MOUSE_UP, view, () => viewScale(view, scaleBigValue));\r\n        view.on(Laya.Event.MOUSE_OUT, view, () => viewScale(view, scaleBigValue));\r\n        view.on(Laya.Event.CLICK, view, () => playClickSound(view.sound));\r\n    }\r\n\r\n    export class btn extends Laya.Button {\r\n\r\n        public sound = null;\r\n\r\n        constructor() {\r\n            super();\r\n            bindClick(this);\r\n        }\r\n\r\n    }\r\n\r\n    export class btn_img extends Laya.Image {\r\n\r\n        public sound = null;\r\n\r\n        constructor() {\r\n            super();\r\n            bindClick(this);\r\n        }\r\n\r\n    }\r\n\r\n    export class btn_label extends Laya.Label {\r\n\r\n        public sound = null;\r\n        constructor() {\r\n            super();\r\n            bindClick(this);\r\n        }\r\n\r\n    }\r\n\r\n    export class btn_sprite extends Laya.Sprite {\r\n\r\n        public sound = null;\r\n        constructor() {\r\n            super();\r\n            bindClick(this);\r\n        }\r\n\r\n    }\r\n\r\n    export class btn_box extends Laya.Box {\r\n\r\n        public sound = null;\r\n        constructor() {\r\n            super();\r\n            bindClick(this);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default runtime;"],"sourceRoot":""}